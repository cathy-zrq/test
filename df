[33mcommit 7e6a188cd1d59d405e97375b108b1f609c9aaf7b[m[33m ([m[1;36mHEAD -> [m[1;32mmaster[m[33m)[m
Author: Cathy-zrq <15911186361@163.com>
Date:   Tue May 7 10:16:42 2019 +0800

    First commit.

[1mdiff --git a/.gitignore b/.gitignore[m
[1mnew file mode 100644[m
[1mindex 0000000..c35a0ba[m
[1m--- /dev/null[m
[1m+++ b/.gitignore[m
[36m@@ -0,0 +1,10 @@[m
[32m+[m[32m*.iml[m
[32m+[m[32m.gradle[m
[32m+[m[32m/local.properties[m
[32m+[m[32m/.idea/workspace.xml[m
[32m+[m[32m/.idea/libraries[m
[32m+[m[32m.DS_Store[m
[32m+[m[32m/build[m
[32m+[m[32m/captures[m
[32m+[m[32m.externalNativeBuild[m
[32m+[m
[1mdiff --git a/.idea/codeStyles/Project.xml b/.idea/codeStyles/Project.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..30aa626[m
[1m--- /dev/null[m
[1m+++ b/.idea/codeStyles/Project.xml[m
[36m@@ -0,0 +1,29 @@[m
[32m+[m[32m<component name="ProjectCodeStyleConfiguration">[m
[32m+[m[32m  <code_scheme name="Project" version="173">[m
[32m+[m[32m    <Objective-C-extensions>[m
[32m+[m[32m      <file>[m
[32m+[m[32m        <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="Import" />[m
[32m+[m[32m        <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="Macro" />[m
[32m+[m[32m        <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="Typedef" />[m
[32m+[m[32m        <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="Enum" />[m
[32m+[m[32m        <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="Constant" />[m
[32m+[m[32m        <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="Global" />[m
[32m+[m[32m        <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="Struct" />[m
[32m+[m[32m        <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="FunctionPredecl" />[m
[32m+[m[32m        <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="Function" />[m
[32m+[m[32m      </file>[m
[32m+[m[32m      <class>[m
[32m+[m[32m        <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="Property" />[m
[32m+[m[32m        <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="Synthesize" />[m
[32m+[m[32m        <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="InitMethod" />[m
[32m+[m[32m        <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="StaticMethod" />[m
[32m+[m[32m        <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="InstanceMethod" />[m
[32m+[m[32m        <option name="com.jetbrains.cidr.lang.util.OCDeclarationKind" value="DeallocMethod" />[m
[32m+[m[32m      </class>[m
[32m+[m[32m      <extensions>[m
[32m+[m[32m        <pair source="cpp" header="h" fileNamingConvention="NONE" />[m
[32m+[m[32m        <pair source="c" header="h" fileNamingConvention="NONE" />[m
[32m+[m[32m      </extensions>[m
[32m+[m[32m    </Objective-C-extensions>[m
[32m+[m[32m  </code_scheme>[m
[32m+[m[32m</component>[m
\ No newline at end of file[m
[1mdiff --git a/.idea/gradle.xml b/.idea/gradle.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..7ac24c7[m
[1m--- /dev/null[m
[1m+++ b/.idea/gradle.xml[m
[36m@@ -0,0 +1,18 @@[m
[32m+[m[32m<?xml version="1.0" encoding="UTF-8"?>[m
[32m+[m[32m<project version="4">[m
[32m+[m[32m  <component name="GradleSettings">[m
[32m+[m[32m    <option name="linkedExternalProjectsSettings">[m
[32m+[m[32m      <GradleProjectSettings>[m
[32m+[m[32m        <option name="distributionType" value="DEFAULT_WRAPPED" />[m
[32m+[m[32m        <option name="externalProjectPath" value="$PROJECT_DIR$" />[m
[32m+[m[32m        <option name="modules">[m
[32m+[m[32m          <set>[m
[32m+[m[32m            <option value="$PROJECT_DIR$" />[m
[32m+[m[32m            <option value="$PROJECT_DIR$/app" />[m
[32m+[m[32m          </set>[m
[32m+[m[32m        </option>[m
[32m+[m[32m        <option name="resolveModulePerSourceSet" value="false" />[m
[32m+[m[32m      </GradleProjectSettings>[m
[32m+[m[32m    </option>[m
[32m+[m[32m  </component>[m
[32m+[m[32m</project>[m
\ No newline at end of file[m
[1mdiff --git a/.idea/misc.xml b/.idea/misc.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..b40d8d6[m
[1m--- /dev/null[m
[1m+++ b/.idea/misc.xml[m
[36m@@ -0,0 +1,38 @@[m
[32m+[m[32m<?xml version="1.0" encoding="UTF-8"?>[m
[32m+[m[32m<project version="4">[m
[32m+[m[32m  <component name="NullableNotNullManager">[m
[32m+[m[32m    <option name="myDefaultNullable" value="android.support.annotation.Nullable" />[m
[32m+[m[32m    <option name="myDefaultNotNull" value="android.support.annotation.NonNull" />[m
[32m+[m[32m    <option name="myNullables">[m
[32m+[m[32m      <value>[m
[32m+[m[32m        <list size="7">[m
[32m+[m[32m          <item index="0" class="java.lang.String" itemvalue="org.jetbrains.annotations.Nullable" />[m
[32m+[m[32m          <item index="1" class="java.lang.String" itemvalue="javax.annotation.Nullable" />[m
[32m+[m[32m          <item index="2" class="java.lang.String" itemvalue="javax.annotation.CheckForNull" />[m
[32m+[m[32m          <item index="3" class="java.lang.String" itemvalue="edu.umd.cs.findbugs.annotations.Nullable" />[m
[32m+[m[32m          <item index="4" class="java.lang.String" itemvalue="android.support.annotation.Nullable" />[m
[32m+[m[32m          <item index="5" class="java.lang.String" itemvalue="androidx.annotation.Nullable" />[m
[32m+[m[32m          <item index="6" class="java.lang.String" itemvalue="androidx.annotation.RecentlyNullable" />[m
[32m+[m[32m        </list>[m
[32m+[m[32m      </value>[m
[32m+[m[32m    </option>[m
[32m+[m[32m    <option name="myNotNulls">[m
[32m+[m[32m      <value>[m
[32m+[m[32m        <list size="6">[m
[32m+[m[32m          <item index="0" class="java.lang.String" itemvalue="org.jetbrains.annotations.NotNull" />[m
[32m+[m[32m          <item index="1" class="java.lang.String" itemvalue="javax.annotation.Nonnull" />[m
[32m+[m[32m          <item index="2" class="java.lang.String" itemvalue="edu.umd.cs.findbugs.annotations.NonNull" />[m
[32m+[m[32m          <item index="3" class="java.lang.String" itemvalue="android.support.annotation.NonNull" />[m
[32m+[m[32m          <item index="4" class="java.lang.String" itemvalue="androidx.annotation.NonNull" />[m
[32m+[m[32m          <item index="5" class="java.lang.String" itemvalue="androidx.annotation.RecentlyNonNull" />[m
[32m+[m[32m        </list>[m
[32m+[m[32m      </value>[m
[32m+[m[32m    </option>[m
[32m+[m[32m  </component>[m
[32m+[m[32m  <component name="ProjectRootManager" version="2" languageLevel="JDK_1_9" default="false" project-jdk-name="1.8" project-jdk-type="JavaSDK">[m
[32m+[m[32m    <output url="file://$PROJECT_DIR$/build/classes" />[m
[32m+[m[32m  </component>[m
[32m+[m[32m  <component name="ProjectType">[m
[32m+[m[32m    <option name="id" value="Android" />[m
[32m+[m[32m  </component>[m
[32m+[m[32m</project>[m
\ No newline at end of file[m
[1mdiff --git a/.idea/modules.xml b/.idea/modules.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..edf7c3a[m
[1m--- /dev/null[m
[1m+++ b/.idea/modules.xml[m
[36m@@ -0,0 +1,8 @@[m
[32m+[m[32m<?xml version="1.0" encoding="UTF-8"?>[m
[32m+[m[32m<project version="4">[m
[32m+[m[32m  <component name="ProjectModuleManager">[m
[32m+[m[32m    <modules>[m
[32m+[m[32m      <module fileurl="file://$PROJECT_DIR$/CoolWeather1.iml" filepath="$PROJECT_DIR$/CoolWeather1.iml" />[m
[32m+[m[32m    </modules>[m
[32m+[m[32m  </component>[m
[32m+[m[32m</project>[m
\ No newline at end of file[m
[1mdiff --git a/.idea/runConfigurations.xml b/.idea/runConfigurations.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..7f68460[m
[1m--- /dev/null[m
[1m+++ b/.idea/runConfigurations.xml[m
[36m@@ -0,0 +1,12 @@[m
[32m+[m[32m<?xml version="1.0" encoding="UTF-8"?>[m
[32m+[m[32m<project version="4">[m
[32m+[m[32m  <component name="RunConfigurationProducerService">[m
[32m+[m[32m    <option name="ignoredProducers">[m
[32m+[m[32m      <set>[m
[32m+[m[32m        <option value="org.jetbrains.plugins.gradle.execution.test.runner.AllInPackageGradleConfigurationProducer" />[m
[32m+[m[32m        <option value="org.jetbrains.plugins.gradle.execution.test.runner.TestClassGradleConfigurationProducer" />[m
[32m+[m[32m        <option value="org.jetbrains.plugins.gradle.execution.test.runner.TestMethodGradleConfigurationProducer" />[m
[32m+[m[32m      </set>[m
[32m+[m[32m    </option>[m
[32m+[m[32m  </component>[m
[32m+[m[32m</project>[m
\ No newline at end of file[m
[1mdiff --git a/.idea/vcs.xml b/.idea/vcs.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..94a25f7[m
[1m--- /dev/null[m
[1m+++ b/.idea/vcs.xml[m
[36m@@ -0,0 +1,6 @@[m
[32m+[m[32m<?xml version="1.0" encoding="UTF-8"?>[m
[32m+[m[32m<project version="4">[m
[32m+[m[32m  <component name="VcsDirectoryMappings">[m
[32m+[m[32m    <mapping directory="$PROJECT_DIR$" vcs="Git" />[m
[32m+[m[32m  </component>[m
[32m+[m[32m</project>[m
\ No newline at end of file[m
[1mdiff --git a/README.md b/README.md[m
[1mnew file mode 100644[m
[1mindex 0000000..e9c9358[m
[1m--- /dev/null[m
[1m+++ b/README.md[m
[36m@@ -0,0 +1 @@[m
[32m+[m[32m# testCoolWeather[m
\ No newline at end of file[m
[1mdiff --git a/app/.gitignore b/app/.gitignore[m
[1mnew file mode 100644[m
[1mindex 0000000..42afabf[m
[1m--- /dev/null[m
[1m+++ b/app/.gitignore[m
[36m@@ -0,0 +1 @@[m
[32m+[m[32m/build[m
\ No newline at end of file[m
[1mdiff --git a/app/build.gradle b/app/build.gradle[m
[1mnew file mode 100644[m
[1mindex 0000000..850739b[m
[1m--- /dev/null[m
[1m+++ b/app/build.gradle[m
[36m@@ -0,0 +1,40 @@[m
[32m+[m[32mapply plugin: 'com.android.application'[m
[32m+[m
[32m+[m[32mandroid {[m
[32m+[m[32m    compileSdkVersion 26[m
[32m+[m[32m    defaultConfig {[m
[32m+[m[32m        applicationId "android.coolweather.com.coolweather"[m
[32m+[m[32m        minSdkVersion 15[m
[32m+[m[32m        targetSdkVersion 26[m
[32m+[m[32m        versionCode 1[m
[32m+[m[32m        versionName "1.0"[m
[32m+[m[32m        testInstrumentationRunner "android.support.test.runner.AndroidJUnitRunner"[m
[32m+[m[32m    }[m
[32m+[m[32m    buildTypes {[m
[32m+[m[32m        release {[m
[32m+[m[32m            minifyEnabled false[m
[32m+[m[32m            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m[32m    productFlavors {[m
[32m+[m[32m        qihoo {[m
[32m+[m[32m            applicationId "com.coolweather.android.qihoo"[m
[32m+[m[32m        }[m
[32m+[m[32m        baidu {[m
[32m+[m[32m            applicationId "com.coolweather.android.baidu"[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mdependencies {[m
[32m+[m[32m    implementation fileTree(dir: 'libs', include: ['*.jar'])[m
[32m+[m[32m    implementation 'com.android.support:appcompat-v7:26.1.0'[m
[32m+[m[32m    implementation 'com.android.support.constraint:constraint-layout:1.1.3'[m
[32m+[m[32m    testImplementation 'junit:junit:4.12'[m
[32m+[m[32m    androidTestImplementation 'com.android.support.test:runner:1.0.2'[m
[32m+[m[32m    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'[m
[32m+[m[32m    compile 'org.litepal.android:core:1.4.1'[m
[32m+[m[32m    compile 'com.squareup.okhttp3:okhttp:3.4.1'[m
[32m+[m[32m    compile 'com.google.code.gson:gson:2.7'[m
[32m+[m[32m    compile 'com.github.bumptech.glide:glide:3.7.0'[m
[32m+[m[32m}[m
[1mdiff --git a/app/proguard-rules.pro b/app/proguard-rules.pro[m
[1mnew file mode 100644[m
[1mindex 0000000..f1b4245[m
[1m--- /dev/null[m
[1m+++ b/app/proguard-rules.pro[m
[36m@@ -0,0 +1,21 @@[m
[32m+[m[32m# Add project specific ProGuard rules here.[m
[32m+[m[32m# You can control the set of applied configuration files using the[m
[32m+[m[32m# proguardFiles setting in build.gradle.[m
[32m+[m[32m#[m
[32m+[m[32m# For more details, see[m
[32m+[m[32m#   http://developer.android.com/guide/developing/tools/proguard.html[m
[32m+[m
[32m+[m[32m# If your project uses WebView with JS, uncomment the following[m
[32m+[m[32m# and specify the fully qualified class name to the JavaScript interface[m
[32m+[m[32m# class:[m
[32m+[m[32m#-keepclassmembers class fqcn.of.javascript.interface.for.webview {[m
[32m+[m[32m#   public *;[m
[32m+[m[32m#}[m
[32m+[m
[32m+[m[32m# Uncomment this to preserve the line number information for[m
[32m+[m[32m# debugging stack traces.[m
[32m+[m[32m#-keepattributes SourceFile,LineNumberTable[m
[32m+[m
[32m+[m[32m# If you keep the line number information, uncomment this to[m
[32m+[m[32m# hide the original source file name.[m
[32m+[m[32m#-renamesourcefileattribute SourceFile[m
[1mdiff --git a/app/src/androidTest/java/android/coolweather/com/coolweather/ExampleInstrumentedTest.java b/app/src/androidTest/java/android/coolweather/com/coolweather/ExampleInstrumentedTest.java[m
[1mnew file mode 100644[m
[1mindex 0000000..1a88c01[m
[1m--- /dev/null[m
[1m+++ b/app/src/androidTest/java/android/coolweather/com/coolweather/ExampleInstrumentedTest.java[m
[36m@@ -0,0 +1,26 @@[m
[32m+[m[32mpackage android.coolweather.com.coolweather;[m
[32m+[m
[32m+[m[32mimport android.content.Context;[m
[32m+[m[32mimport android.support.test.InstrumentationRegistry;[m
[32m+[m[32mimport android.support.test.runner.AndroidJUnit4;[m
[32m+[m
[32m+[m[32mimport org.junit.Test;[m
[32m+[m[32mimport org.junit.runner.RunWith;[m
[32m+[m
[32m+[m[32mimport static org.junit.Assert.*;[m
[32m+[m
[32m+[m[32m/**[m
[32m+[m[32m * Instrumented test, which will execute on an Android device.[m
[32m+[m[32m *[m
[32m+[m[32m * @see <a href="http://d.android.com/tools/testing">Testing documentation</a>[m
[32m+[m[32m */[m
[32m+[m[32m@RunWith(AndroidJUnit4.class)[m
[32m+[m[32mpublic class ExampleInstrumentedTest {[m
[32m+[m[32m    @Test[m
[32m+[m[32m    public void useAppContext() throws Exception {[m
[32m+[m[32m        // Context of the app under test.[m
[32m+[m[32m        Context appContext = InstrumentationRegistry.getTargetContext();[m
[32m+[m
[32m+[m[32m        assertEquals("android.coolweather.com.coolweather", appContext.getPackageName());[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[1mdiff --git a/app/src/baidu/res/values/strings.xml b/app/src/baidu/res/values/strings.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..1442bce[m
[1m--- /dev/null[m
[1m+++ b/app/src/baidu/res/values/strings.xml[m
[36m@@ -0,0 +1,3 @@[m
[32m+[m[32m<resources>[m
[32m+[m[32m    <string name="app_name">酷欧天气百度</string>[m
[32m+[m[32m</resources>[m
[1mdiff --git a/app/src/main/AndroidManifest.xml b/app/src/main/AndroidManifest.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..fec5e25[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/AndroidManifest.xml[m
[36m@@ -0,0 +1,30 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<manifest xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    package="android.coolweather.com.coolweather">[m
[32m+[m
[32m+[m[32m    <uses-permission android:name="android.permission.INTERNET" />[m
[32m+[m
[32m+[m[32m    <application[m
[32m+[m[32m        android:name="org.litepal.LitePalApplication"[m
[32m+[m[32m        android:allowBackup="true"[m
[32m+[m[32m        android:icon="@mipmap/ic_launcher"[m
[32m+[m[32m        android:label="@string/app_name"[m
[32m+[m[32m        android:roundIcon="@mipmap/ic_launcher_round"[m
[32m+[m[32m        android:supportsRtl="true"[m
[32m+[m[32m        android:theme="@style/AppTheme">[m
[32m+[m[32m        <activity android:name=".MainActivity">[m
[32m+[m[32m            <intent-filter>[m
[32m+[m[32m                <action android:name="android.intent.action.MAIN" />[m
[32m+[m
[32m+[m[32m                <category android:name="android.intent.category.LAUNCHER" />[m
[32m+[m[32m            </intent-filter>[m
[32m+[m[32m        </activity>[m
[32m+[m[32m        <activity android:name=".WeatherActivity" />[m
[32m+[m
[32m+[m[32m        <service[m
[32m+[m[32m            android:name=".services.AutoUpdateService"[m
[32m+[m[32m            android:enabled="true"[m
[32m+[m[32m            android:exported="true"></service>[m
[32m+[m[32m    </application>[m
[32m+[m
[32m+[m[32m</manifest>[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/assets/litepal.xml b/app/src/main/assets/litepal.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..eda9a2a[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/assets/litepal.xml[m
[36m@@ -0,0 +1,9 @@[m
[32m+[m[32m<litepal>[m
[32m+[m[32m    <dbname value="cool_weather" />[m
[32m+[m[32m    <version value="1" />[m
[32m+[m[32m    <list>[m
[32m+[m[32m        <mapping class="android.coolweather.com.coolweather.db.City" />[m
[32m+[m[32m        <mapping class="android.coolweather.com.coolweather.db.Province" />[m
[32m+[m[32m        <mapping class="android.coolweather.com.coolweather.db.County" />[m
[32m+[m[32m    </list>[m
[32m+[m[32m</litepal>[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/java/android/coolweather/com/coolweather/ChooseAreaFragment.java b/app/src/main/java/android/coolweather/com/coolweather/ChooseAreaFragment.java[m
[1mnew file mode 100644[m
[1mindex 0000000..2db26d3[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/java/android/coolweather/com/coolweather/ChooseAreaFragment.java[m
[36m@@ -0,0 +1,256 @@[m
[32m+[m[32mpackage android.coolweather.com.coolweather;[m
[32m+[m
[32m+[m[32mimport android.app.Fragment;[m
[32m+[m[32mimport android.app.ProgressDialog;[m
[32m+[m[32mimport android.content.Intent;[m
[32m+[m[32mimport android.coolweather.com.coolweather.db.City;[m
[32m+[m[32mimport android.coolweather.com.coolweather.db.County;[m
[32m+[m[32mimport android.coolweather.com.coolweather.db.Province;[m
[32m+[m[32mimport android.coolweather.com.coolweather.util.HttpUtil;[m
[32m+[m[32mimport android.coolweather.com.coolweather.util.Utility;[m
[32m+[m[32mimport android.os.Build;[m
[32m+[m[32mimport android.os.Bundle;[m
[32m+[m[32mimport android.support.annotation.RequiresApi;[m
[32m+[m[32mimport android.telecom.Call;[m
[32m+[m[32mimport android.view.LayoutInflater;[m
[32m+[m[32mimport android.view.View;[m
[32m+[m[32mimport android.view.ViewGroup;[m
[32m+[m[32mimport android.widget.AdapterView;[m
[32m+[m[32mimport android.widget.ArrayAdapter;[m
[32m+[m[32mimport android.widget.Button;[m
[32m+[m[32mimport android.widget.ListView;[m
[32m+[m[32mimport android.widget.TextView;[m
[32m+[m[32mimport android.widget.Toast;[m
[32m+[m
[32m+[m[32mimport org.litepal.crud.DataSupport;[m
[32m+[m
[32m+[m[32mimport java.io.IOException;[m
[32m+[m[32mimport java.util.ArrayList;[m
[32m+[m[32mimport java.util.List;[m
[32m+[m
[32m+[m[32mimport javax.security.auth.callback.Callback;[m
[32m+[m
[32m+[m[32mimport okhttp3.Response;[m
[32m+[m
[32m+[m[32m/**[m
[32m+[m[32m * Created by admin on 2019/2/10.[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32mpublic class ChooseAreaFragment extends Fragment {[m
[32m+[m[32m    public static final int LEVEL_PROVINCE = 0;[m
[32m+[m[32m    public static final int LEVEL_CITY = 1;[m
[32m+[m[32m    public static final int LEVEL_COUNTY = 2;[m
[32m+[m[32m    private ProgressDialog progressDialog;[m
[32m+[m[32m    private TextView titleText;[m
[32m+[m[32m    private Button backButton;[m
[32m+[m[32m    private ListView listView;[m
[32m+[m[32m    private ArrayAdapter<String> adapter;[m
[32m+[m[32m    private List<String> dataList = new ArrayList<>();[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 省列表[m
[32m+[m[32m     */[m
[32m+[m[32m    private List<Province> provinceList;[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 市列表[m
[32m+[m[32m     */[m
[32m+[m[32m    private List<City> cityList;[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 县列表[m
[32m+[m[32m     */[m
[32m+[m[32m    private List<County> countyList;[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 选中的省份[m
[32m+[m[32m     */[m
[32m+[m[32m    private Province selectedProvince;[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 选中的城市[m
[32m+[m[32m     */[m
[32m+[m[32m    private City selectedCity;[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 当前选中的级别[m
[32m+[m[32m     */[m
[32m+[m[32m    private int currentLevel;[m
[32m+[m[32m    @Override[m
[32m+[m[32m    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {[m
[32m+[m[32m        View view = inflater.inflate(R.layout.choose_area, container, false);[m
[32m+[m[32m        titleText = (TextView) view.findViewById(R.id.title_text);[m
[32m+[m[32m        backButton = (Button) view.findViewById(R.id.back_button);[m
[32m+[m[32m        listView = (ListView) view.findViewById(R.id.list_view);[m
[32m+[m[32m        adapter = new ArrayAdapter<>(getContext(), android.R.layout.simple_list_item_1, dataList);[m
[32m+[m[32m        listView.setAdapter(adapter);[m
[32m+[m[32m        return view;[m
[32m+[m[32m    }[m
[32m+[m[32m    @Override[m
[32m+[m[32m    public void onActivityCreated(Bundle savedInstanceState) {[m
[32m+[m[32m        super.onActivityCreated(savedInstanceState);[m
[32m+[m[32m        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {[m
[32m+[m[32m            @Override[m
[32m+[m[32m            public void onItemClick(AdapterView<?> parent, View view, int position, long id) {[m
[32m+[m[32m                if (currentLevel == LEVEL_PROVINCE) {[m
[32m+[m[32m                    selectedProvince = provinceList.get(position);[m
[32m+[m[32m                    queryCities();[m
[32m+[m[32m                } else if (currentLevel == LEVEL_CITY) {[m
[32m+[m[32m                    selectedCity = cityList.get(position);[m
[32m+[m[32m                    queryCounties();[m
[32m+[m[32m                } else if (currentLevel == LEVEL_COUNTY) {[m
[32m+[m[32m                    String weatherId = countyList.get(position).getWeatherId();[m
[32m+[m[32m                    if (getActivity() instanceof MainActivity) {[m
[32m+[m[32m                        Intent intent = new Intent(getActivity(), WeatherActivity.class);[m
[32m+[m[32m                        intent.putExtra("weather_id", weatherId);[m
[32m+[m[32m                        startActivity(intent);[m
[32m+[m[32m                        getActivity().finish();[m
[32m+[m[32m                    } else if (getActivity() instanceof WeatherActivity) {[m
[32m+[m[32m                        WeatherActivity activity = (WeatherActivity) getActivity();[m
[32m+[m[32m                        activity.drawerLayout.closeDrawers();[m
[32m+[m[32m                        activity.swipeRefresh.setRefreshing(true);[m
[32m+[m[32m                        activity.requestWeather(weatherId);[m
[32m+[m[32m                    }[m
[32m+[m[32m                }[m
[32m+[m[32m            }[m
[32m+[m[32m        });[m
[32m+[m[32m        backButton.setOnClickListener(new View.OnClickListener() {[m
[32m+[m[32m            @Override[m
[32m+[m[32m            public void onClick(View v) {[m
[32m+[m[32m                if (currentLevel == LEVEL_COUNTY) {[m
[32m+[m[32m                    queryCities();[m
[32m+[m[32m                } else if (currentLevel == LEVEL_CITY) {[m
[32m+[m[32m                    queryProvinces();[m
[32m+[m[32m                }[m
[32m+[m[32m            }[m
[32m+[m[32m        });[m
[32m+[m[32m        queryProvinces();[m
[32m+[m[32m    }[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 查询全国所有的省，优先从数据库查询，如果没有查询到再去服务器上查询[m
[32m+[m[32m     */[m
[32m+[m[32m    private void queryProvinces() {[m
[32m+[m[32m        titleText.setText("中国");[m
[32m+[m[32m        backButton.setVisibility(View.GONE);[m
[32m+[m[32m        provinceList = DataSupport.findAll(Province.class);[m
[32m+[m[32m        if (provinceList.size() > 0) {[m
[32m+[m[32m            dataList.clear();[m
[32m+[m[32m            for (Province province : provinceList) {[m
[32m+[m[32m                dataList.add(province.getProvinceName());[m
[32m+[m[32m            }[m
[32m+[m[32m            adapter.notifyDataSetChanged();[m
[32m+[m[32m            listView.setSelection(0);[m
[32m+[m[32m            currentLevel = LEVEL_PROVINCE;[m
[32m+[m[32m        } else {[m
[32m+[m[32m            String address = "http://guolin.tech/api/china";[m
[32m+[m[32m            queryFromServer(address, "province");[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 查询选中省内所有的市，优先从数据库查询，如果没有查询到再去服务器上查询[m
[32m+[m[32m     */[m
[32m+[m[32m    private void queryCities() {[m
[32m+[m[32m        titleText.setText(selectedProvince.getProvinceName());[m
[32m+[m[32m        backButton.setVisibility(View.VISIBLE);[m
[32m+[m[32m        cityList = DataSupport.where("provinceid = ?", String.valueOf(selectedProvince.getId())).find(City.class);[m
[32m+[m[32m        if (cityList.size() > 0) {[m
[32m+[m[32m            dataList.clear();[m
[32m+[m[32m            for (City city : cityList) {[m
[32m+[m[32m                dataList.add(city.getCityName());[m
[32m+[m[32m            }[m
[32m+[m[32m            adapter.notifyDataSetChanged();[m
[32m+[m[32m            listView.setSelection(0);[m
[32m+[m[32m            currentLevel = LEVEL_CITY;[m
[32m+[m[32m        } else {[m
[32m+[m[32m            int provinceCode = selectedProvince.getProvinceCode();[m
[32m+[m[32m            String address = "http://guolin.tech/api/china/" + provinceCode;[m
[32m+[m[32m            queryFromServer(address, "city");[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 查询选中市内所有的县，优先从数据库查询，如果没有查询到再去服务器上查询[m
[32m+[m[32m     */[m
[32m+[m[32m    private void queryCounties() {[m
[32m+[m[32m        titleText.setText(selectedCity.getCityName());[m
[32m+[m[32m        backButton.setVisibility(View.VISIBLE);[m
[32m+[m[32m        countyList = DataSupport.where("cityid = ?", String.valueOf(selectedCity.[m
[32m+[m[32m                getId())).find(County.class);[m
[32m+[m[32m        if (countyList.size() > 0) {[m
[32m+[m[32m            dataList.clear();[m
[32m+[m[32m            for (County county : countyList) {[m
[32m+[m[32m                dataList.add(county.getCountyName());[m
[32m+[m[32m            }[m
[32m+[m[32m            adapter.notifyDataSetChanged();[m
[32m+[m[32m            listView.setSelection(0);[m
[32m+[m[32m            currentLevel = LEVEL_COUNTY;[m
[32m+[m[32m        } else {[m
[32m+[m[32m            int provinceCode = selectedProvince.getProvinceCode();[m
[32m+[m[32m            int cityCode = selectedCity.getCityCode();[m
[32m+[m[32m            String address = "http://guolin.tech/api/china/" + provinceCode + "/" + cityCode;[m
[32m+[m[32m            queryFromServer(address, "county");[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 根据传入的地址和类型从服务器上查询省市县数据[m
[32m+[m[32m     */[m
[32m+[m[32m    private void queryFromServer(String address, final String type) {[m
[32m+[m[32m        showProgressDialog();[m
[32m+[m[32m        HttpUtil.sendOkHttpRequest(address, new okhttp3.Callback() {[m
[32m+[m[32m            @Override[m
[32m+[m[32m            public void onFailure(okhttp3.Call call, IOException e) {[m
[32m+[m[32m                // 通过 runOnUiThread()方法回到主线程处理逻辑[m
[32m+[m[32m                getActivity().runOnUiThread(new Runnable() {[m
[32m+[m[32m                    @RequiresApi(api = Build.VERSION_CODES.M)[m
[32m+[m[32m                    @Override[m
[32m+[m[32m                    public void run() {[m
[32m+[m[32m                        closeProgressDialog();[m
[32m+[m[32m                        Toast.makeText(getContext(), "加载失败", Toast.LENGTH_SHORT).show();[m
[32m+[m[32m                    }[m
[32m+[m[32m                });[m
[32m+[m[32m            }[m
[32m+[m
[32m+[m[32m            @Override[m
[32m+[m[32m            public void onResponse(okhttp3.Call call, Response response) throws IOException {[m
[32m+[m[32m                String responseText = response.body().string();[m
[32m+[m[32m                boolean result = false;[m
[32m+[m[32m                if ("province".equals(type)) {[m
[32m+[m[32m                    result = Utility.handleProvinceResponse(responseText);[m
[32m+[m[32m                } else if ("city".equals(type)) {[m
[32m+[m[32m                    result = Utility.handleCityResponse(responseText,[m
[32m+[m[32m                            selectedProvince.getId());[m
[32m+[m[32m                } else if ("county".equals(type)) {[m
[32m+[m[32m                    result = Utility.handleCountyResponse(responseText,[m
[32m+[m[32m                            selectedCity.getId());[m
[32m+[m[32m                }[m
[32m+[m[32m                if (result) {[m
[32m+[m[32m                    getActivity().runOnUiThread(new Runnable() {[m
[32m+[m[32m                        @Override[m
[32m+[m[32m                        public void run() {[m
[32m+[m[32m                            closeProgressDialog();[m
[32m+[m[32m                            if ("province".equals(type)) {[m
[32m+[m[32m                                queryProvinces();[m
[32m+[m[32m                            } else if ("city".equals(type)) {[m
[32m+[m[32m                                queryCities();[m
[32m+[m[32m                            } else if ("county".equals(type)) {[m
[32m+[m[32m                                queryCounties();[m
[32m+[m[32m                            }[m
[32m+[m[32m                        }[m
[32m+[m[32m                    });[m
[32m+[m[32m                }[m
[32m+[m[32m            }[m
[32m+[m[32m        });[m
[32m+[m[32m    }[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 显示进度对话框[m
[32m+[m[32m     */[m
[32m+[m[32m    private void showProgressDialog() {[m
[32m+[m[32m        if (progressDialog == null) {[m
[32m+[m[32m            progressDialog = new ProgressDialog(getActivity());[m
[32m+[m[32m            progressDialog.setMessage("正在加载...");[m
[32m+[m[32m            progressDialog.setCanceledOnTouchOutside(false);[m
[32m+[m[32m        }[m
[32m+[m[32m        progressDialog.show();[m
[32m+[m[32m    }[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 关闭进度对话框[m
[32m+[m[32m     */[m
[32m+[m[32m    private void closeProgressDialog() {[m
[32m+[m[32m        if (progressDialog != null) {[m
[32m+[m[32m            progressDialog.dismiss();[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/java/android/coolweather/com/coolweather/MainActivity.java b/app/src/main/java/android/coolweather/com/coolweather/MainActivity.java[m
[1mnew file mode 100644[m
[1mindex 0000000..08d0ca3[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/java/android/coolweather/com/coolweather/MainActivity.java[m
[36m@@ -0,0 +1,23 @@[m
[32m+[m[32mpackage android.coolweather.com.coolweather;[m
[32m+[m
[32m+[m[32mimport android.content.Intent;[m
[32m+[m[32mimport android.content.SharedPreferences;[m
[32m+[m[32mimport android.preference.PreferenceManager;[m
[32m+[m[32mimport android.support.v7.app.AppCompatActivity;[m
[32m+[m[32mimport android.os.Bundle;[m
[32m+[m
[32m+[m[32mpublic class MainActivity extends AppCompatActivity {[m
[32m+[m
[32m+[m[32m    @Override[m
[32m+[m[32m    protected void onCreate(Bundle savedInstanceState) {[m
[32m+[m[32m        super.onCreate(savedInstanceState);[m
[32m+[m[32m        setContentView(R.layout.activity_main);[m
[32m+[m[32m        SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences[m
[32m+[m[32m                (this);[m
[32m+[m[32m        if (prefs.getString("weather", null) != null) {[m
[32m+[m[32m            Intent intent = new Intent(this, WeatherActivity.class);[m
[32m+[m[32m            startActivity(intent);[m
[32m+[m[32m            finish();[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[1mdiff --git a/app/src/main/java/android/coolweather/com/coolweather/WeatherActivity.java b/app/src/main/java/android/coolweather/com/coolweather/WeatherActivity.java[m
[1mnew file mode 100644[m
[1mindex 0000000..de83dad[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/java/android/coolweather/com/coolweather/WeatherActivity.java[m
[36m@@ -0,0 +1,237 @@[m
[32m+[m[32mpackage android.coolweather.com.coolweather;[m
[32m+[m
[32m+[m[32mimport android.content.Intent;[m
[32m+[m[32mimport android.content.SharedPreferences;[m
[32m+[m[32mimport android.coolweather.com.coolweather.gson.Forecast;[m
[32m+[m[32mimport android.coolweather.com.coolweather.gson.Weather;[m
[32m+[m[32mimport android.coolweather.com.coolweather.util.HttpUtil;[m
[32m+[m[32mimport android.coolweather.com.coolweather.util.Utility;[m
[32m+[m[32mimport android.graphics.Color;[m
[32m+[m[32mimport android.os.Build;[m
[32m+[m[32mimport android.preference.PreferenceManager;[m
[32m+[m[32mimport android.support.v4.view.GravityCompat;[m
[32m+[m[32mimport android.support.v4.widget.DrawerLayout;[m
[32m+[m[32mimport android.support.v4.widget.SwipeRefreshLayout;[m
[32m+[m[32mimport android.support.v7.app.AppCompatActivity;[m
[32m+[m[32mimport android.os.Bundle;[m
[32m+[m[32mimport android.view.LayoutInflater;[m
[32m+[m[32mimport android.view.View;[m
[32m+[m[32mimport android.widget.Button;[m
[32m+[m[32mimport android.widget.ImageView;[m
[32m+[m[32mimport android.widget.LinearLayout;[m
[32m+[m[32mimport android.widget.ScrollView;[m
[32m+[m[32mimport android.widget.TextView;[m
[32m+[m[32mimport android.widget.Toast;[m
[32m+[m
[32m+[m[32mimport com.bumptech.glide.Glide;[m
[32m+[m[32mimport java.io.IOException;[m
[32m+[m[32mimport okhttp3.Response;[m
[32m+[m
[32m+[m[32mpublic class WeatherActivity extends AppCompatActivity {[m
[32m+[m
[32m+[m[32m    public DrawerLayout drawerLayout;[m
[32m+[m[32m    private Button navButton;[m
[32m+[m
[32m+[m[32m    public SwipeRefreshLayout swipeRefresh;[m
[32m+[m[32m    private String mWeatherId;[m
[32m+[m
[32m+[m[32m    private ScrollView weatherLayout;[m
[32m+[m[32m    private TextView titleCity;[m
[32m+[m[32m    private TextView titleUpdateTime;[m
[32m+[m[32m    private TextView degreeText;[m
[32m+[m[32m    private TextView weatherInfoText;[m
[32m+[m[32m    private LinearLayout forecastLayout;[m
[32m+[m[32m    private TextView aqiText;[m
[32m+[m[32m    private TextView pm25Text;[m
[32m+[m[32m    private TextView comfortText;[m
[32m+[m[32m    private TextView carWashText;[m
[32m+[m[32m    private TextView sportText;[m
[32m+[m
[32m+[m[32m    private ImageView bingPicImg;[m
[32m+[m
[32m+[m[32m    @Override[m
[32m+[m[32m    protected void onCreate(Bundle savedInstanceState) {[m
[32m+[m[32m        super.onCreate(savedInstanceState);[m
[32m+[m
[32m+[m[32m        if (Build.VERSION.SDK_INT >= 21) {[m
[32m+[m[32m            View decorView = getWindow().getDecorView();[m
[32m+[m[32m            decorView.setSystemUiVisibility([m
[32m+[m[32m                    View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN[m
[32m+[m[32m                            | View.SYSTEM_UI_FLAG_LAYOUT_STABLE);[m
[32m+[m[32m            getWindow().setStatusBarColor(Color.TRANSPARENT);[m
[32m+[m[32m        }[m
[32m+[m
[32m+[m[32m        setContentView(R.layout.activity_weather);[m
[32m+[m[32m        // 初始化各控件[m
[32m+[m[32m        weatherLayout = (ScrollView) findViewById(R.id.weather_layout);[m
[32m+[m[32m        titleCity = (TextView) findViewById(R.id.title_city);[m
[32m+[m[32m        titleUpdateTime = (TextView) findViewById(R.id.title_update_time);[m
[32m+[m[32m        degreeText = (TextView) findViewById(R.id.degree_text);[m
[32m+[m[32m        weatherInfoText = (TextView) findViewById(R.id.weather_info_text);[m
[32m+[m[32m        forecastLayout = (LinearLayout) findViewById(R.id.forecast_layout);[m
[32m+[m[32m        aqiText = (TextView) findViewById(R.id.aqi_text);[m
[32m+[m[32m        pm25Text = (TextView) findViewById(R.id.pm25_text);[m
[32m+[m[32m        comfortText = (TextView) findViewById(R.id.comfort_text);[m
[32m+[m[32m        carWashText = (TextView) findViewById(R.id.car_wash_text);[m
[32m+[m[32m        sportText = (TextView) findViewById(R.id.sport_text);[m
[32m+[m[32m        bingPicImg = (ImageView) findViewById(R.id.bing_pic_img);[m
[32m+[m
[32m+[m[32m        swipeRefresh = (SwipeRefreshLayout) findViewById(R.id.swipe_refresh);[m
[32m+[m[32m        swipeRefresh.setColorSchemeResources(R.color.colorPrimary);[m
[32m+[m
[32m+[m[32m        drawerLayout = (DrawerLayout) findViewById(R.id.drawer_layout);[m
[32m+[m[32m        navButton = (Button) findViewById(R.id.nav_button);[m
[32m+[m
[32m+[m[32m        SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences[m
[32m+[m[32m                (this);[m
[32m+[m[32m        String weatherString = prefs.getString("weather", null);[m
[32m+[m[32m        if (weatherString != null) {[m
[32m+[m[32m            // 有缓存时直接解析天气数据[m
[32m+[m[32m            Weather weather = Utility.handleWeatherResponse(weatherString);[m
[32m+[m[32m            mWeatherId = weather.basic.weatherId;[m
[32m+[m[32m            showWeatherInfo(weather);[m
[32m+[m[32m        } else {[m
[32m+[m[32m            // 无缓存时去服务器查询天气[m
[32m+[m[32m            mWeatherId = getIntent().getStringExtra("weather_id");[m
[32m+[m[32m            weatherLayout.setVisibility(View.INVISIBLE);[m
[32m+[m[32m            requestWeather(mWeatherId);[m
[32m+[m[32m        }[m
[32m+[m[32m        swipeRefresh.setOnRefreshListener(new SwipeRefreshLayout.[m
[32m+[m[32m                OnRefreshListener() {[m
[32m+[m[32m            @Override[m
[32m+[m[32m            public void onRefresh() {[m
[32m+[m[32m                requestWeather(mWeatherId);[m
[32m+[m[32m            }[m
[32m+[m[32m        });[m
[32m+[m
[32m+[m[32m        navButton.setOnClickListener(new View.OnClickListener() {[m
[32m+[m[32m            @Override[m
[32m+[m[32m            public void onClick(View v) {[m
[32m+[m[32m                drawerLayout.openDrawer(GravityCompat.START);[m
[32m+[m[32m            }[m
[32m+[m[32m        });[m
[32m+[m
[32m+[m
[32m+[m[32m        String bingPic = prefs.getString("bing_pic", null);[m
[32m+[m[32m        if (bingPic != null) {[m
[32m+[m[32m            Glide.with(this).load(bingPic).into(bingPicImg);[m
[32m+[m[32m        } else {[m
[32m+[m[32m            loadBingPic();[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 根据天气 id 请求城市天气信息[m
[32m+[m[32m     */[m
[32m+[m[32m    public void requestWeather(final String weatherId) {[m
[32m+[m
[32m+[m[32m//        String weatherUrl = "http://guolin.tech/api/weather?cityid=" + weatherId + "&key=bc0418b57b2d4918819d3974ac1285d9";[m
[32m+[m[32m      String weatherUrl ="  http://guolin.tech/api/weather?cityid=" + weatherId + "&key=fb0e22d7b17f4bd0947c2e0c0045093d";[m
[32m+[m[32m        HttpUtil.sendOkHttpRequest(weatherUrl, new okhttp3.Callback() {[m
[32m+[m[32m            @Override[m
[32m+[m[32m            public void onFailure(okhttp3.Call call, IOException e) {[m
[32m+[m[32m                e.printStackTrace();[m
[32m+[m[32m                runOnUiThread(new Runnable() {[m
[32m+[m[32m                    @Override[m
[32m+[m[32m                    public void run() {[m
[32m+[m[32m                        Toast.makeText(WeatherActivity.this, "获取天气信息失败",[m
[32m+[m[32m                                Toast.LENGTH_SHORT).show();[m
[32m+[m[32m                        swipeRefresh.setRefreshing(false);[m
[32m+[m[32m                    }[m
[32m+[m[32m                });[m
[32m+[m[32m            }[m
[32m+[m
[32m+[m[32m            @Override[m
[32m+[m[32m            public void onResponse(okhttp3.Call call, Response response) throws IOException {[m
[32m+[m[32m                final String responseText = response.body().string();[m
[32m+[m[32m                final Weather weather = Utility.handleWeatherResponse(responseText);[m
[32m+[m[32m                runOnUiThread(new Runnable() {[m
[32m+[m[32m                    @Override[m
[32m+[m[32m                    public void run() {[m
[32m+[m[32m                        if (weather != null && "ok".equals(weather.status)) {[m
[32m+[m[32m                            SharedPreferences.Editor editor = PreferenceManager.[m
[32m+[m[32m                                    getDefaultSharedPreferences(WeatherActivity.this).[m
[32m+[m[32m                                    edit();[m
[32m+[m[32m                            editor.putString("weather", responseText);[m
[32m+[m[32m                            editor.apply();[m
[32m+[m[32m                            mWeatherId = weather.basic.weatherId;[m
[32m+[m[32m                            showWeatherInfo(weather);[m
[32m+[m[32m                        } else {[m
[32m+[m[32m                            Toast.makeText(WeatherActivity.this, "获取天气信息失败",[m
[32m+[m[32m                                    Toast.LENGTH_SHORT).show();[m
[32m+[m[32m                        }[m
[32m+[m[32m                        swipeRefresh.setRefreshing(false);[m
[32m+[m[32m                    }[m
[32m+[m[32m                });[m
[32m+[m[32m            }[m
[32m+[m[32m        });[m
[32m+[m
[32m+[m[32m        loadBingPic();[m
[32m+[m[32m    }[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 处理并展示 Weather 实体类中的数据[m
[32m+[m[32m     */[m
[32m+[m[32m    private void showWeatherInfo(Weather weather) {[m
[32m+[m[32m        String cityName = weather.basic.cityName;[m
[32m+[m[32m        String updateTime = weather.basic.update.updateTime.split(" ")[1];[m
[32m+[m[32m        String degree = weather.now.temperature + "℃";[m
[32m+[m[32m        String weatherInfo = weather.now.more.info;[m
[32m+[m[32m        titleCity.setText(cityName);[m
[32m+[m[32m        titleUpdateTime.setText(updateTime);[m
[32m+[m[32m        degreeText.setText(degree);[m
[32m+[m[32m        weatherInfoText.setText(weatherInfo);[m
[32m+[m[32m        forecastLayout.removeAllViews();[m
[32m+[m[32m        for (Forecast forecast : weather.forecastList) {[m
[32m+[m[32m            View view = LayoutInflater.from(this).inflate(R.layout.forecast_item, forecastLayout, false);[m
[32m+[m[32m            TextView dateText = (TextView) view.findViewById(R.id.date_text);[m
[32m+[m[32m            TextView infoText = (TextView) view.findViewById(R.id.info_text);[m
[32m+[m[32m            TextView maxText = (TextView) view.findViewById(R.id.max_text);[m
[32m+[m[32m            TextView minText = (TextView) view.findViewById(R.id.min_text);[m
[32m+[m[32m            dateText.setText(forecast.date);[m
[32m+[m[32m            infoText.setText(forecast.more.info);[m
[32m+[m[32m            maxText.setText(forecast.temperature.max);[m
[32m+[m[32m            minText.setText(forecast.temperature.min);[m
[32m+[m[32m            forecastLayout.addView(view);[m
[32m+[m[32m        }[m
[32m+[m[32m        if (weather.aqi != null) {[m
[32m+[m[32m            aqiText.setText(weather.aqi.city.aqi);[m
[32m+[m[32m            pm25Text.setText(weather.aqi.city.pm25);[m
[32m+[m[32m        }[m
[32m+[m[32m        String comfort = "舒适度：" + weather.suggestion.comfort.info;[m
[32m+[m[32m        String carWash = "洗车指数：" + weather.suggestion.carWash.info;[m
[32m+[m[32m        String sport = "运动建议：" + weather.suggestion.sport.info;[m
[32m+[m[32m        comfortText.setText(comfort);[m
[32m+[m[32m        carWashText.setText(carWash);[m
[32m+[m[32m        sportText.setText(sport);[m
[32m+[m[32m        weatherLayout.setVisibility(View.VISIBLE);[m
[32m+[m[32m        Intent intent = new Intent(this, android.coolweather.com.coolweather.AutoUpdateService.class);[m
[32m+[m[32m        startService(intent);[m
[32m+[m[32m    }[m
[32m+[m
[32m+[m
[32m+[m[32m    private void loadBingPic() {[m
[32m+[m[32m        String requestBingPic = "http://guolin.tech/api/bing_pic";[m
[32m+[m
[32m+[m[32m        HttpUtil.sendOkHttpRequest(requestBingPic, new okhttp3.Callback() {[m
[32m+[m[32m            @Override[m
[32m+[m[32m            public void onFailure(okhttp3.Call call, IOException e) {[m
[32m+[m[32m                e.printStackTrace();[m
[32m+[m[32m            }[m
[32m+[m
[32m+[m[32m            @Override[m
[32m+[m[32m            public void onResponse(okhttp3.Call call, Response response) throws IOException {[m
[32m+[m[32m                final String bingPic = response.body().string();[m
[32m+[m[32m                SharedPreferences.Editor editor = PreferenceManager.[m
[32m+[m[32m                        getDefaultSharedPreferences(WeatherActivity.this).edit();[m
[32m+[m[32m                editor.putString("bing_pic", bingPic);[m
[32m+[m[32m                editor.apply();[m
[32m+[m[32m                runOnUiThread(new Runnable() {[m
[32m+[m[32m                    @Override[m
[32m+[m[32m                    public void run() {[m
[32m+[m[32m                        Glide.with(WeatherActivity.this).load(bingPic).into[m
[32m+[m[32m                                (bingPicImg);[m
[32m+[m[32m                    }[m
[32m+[m[32m                });[m
[32m+[m[32m            }[m
[32m+[m[32m        });[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[1mdiff --git a/app/src/main/java/android/coolweather/com/coolweather/db/City.java b/app/src/main/java/android/coolweather/com/coolweather/db/City.java[m
[1mnew file mode 100644[m
[1mindex 0000000..ef609e2[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/java/android/coolweather/com/coolweather/db/City.java[m
[36m@@ -0,0 +1,38 @@[m
[32m+[m[32mpackage android.coolweather.com.coolweather.db;[m
[32m+[m
[32m+[m[32mimport org.litepal.crud.DataSupport;[m
[32m+[m
[32m+[m[32m/**[m
[32m+[m[32m * Created by Trump on 2019/02/10.[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32mpublic class City extends DataSupport {[m
[32m+[m[32m    private int id;[m
[32m+[m[32m    private String cityName;[m
[32m+[m[32m    private int cityCode;[m
[32m+[m[32m    private int provinceId;[m
[32m+[m[32m    public int getId() {[m
[32m+[m[32m        return id;[m
[32m+[m[32m    }[m
[32m+[m[32m    public void setId(int id) {[m
[32m+[m[32m        this.id = id;[m
[32m+[m[32m    }[m
[32m+[m[32m    public String getCityName() {[m
[32m+[m[32m        return cityName;[m
[32m+[m[32m    }[m
[32m+[m[32m    public void setCityName(String cityName) {[m
[32m+[m[32m        this.cityName = cityName;[m
[32m+[m[32m    }[m
[32m+[m[32m    public int getCityCode() {[m
[32m+[m[32m        return cityCode;[m
[32m+[m[32m    }[m
[32m+[m[32m    public void setCityCode(int cityCode) {[m
[32m+[m[32m        this.cityCode = cityCode;[m
[32m+[m[32m    }[m
[32m+[m[32m    public int getProvinceId() {[m
[32m+[m[32m        return provinceId;[m
[32m+[m[32m    }[m
[32m+[m[32m    public void setProvinceId(int provinceId) {[m
[32m+[m[32m        this.provinceId = provinceId;[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/java/android/coolweather/com/coolweather/db/County.java b/app/src/main/java/android/coolweather/com/coolweather/db/County.java[m
[1mnew file mode 100644[m
[1mindex 0000000..69bcffe[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/java/android/coolweather/com/coolweather/db/County.java[m
[36m@@ -0,0 +1,38 @@[m
[32m+[m[32mpackage android.coolweather.com.coolweather.db;[m
[32m+[m
[32m+[m[32mimport org.litepal.crud.DataSupport;[m
[32m+[m
[32m+[m[32m/**[m
[32m+[m[32m * Created by Trump on 2019/02/10.[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32mpublic class County extends DataSupport {[m
[32m+[m[32m    private int id;[m
[32m+[m[32m    private String countyName;[m
[32m+[m[32m    private String weatherId;[m
[32m+[m[32m    private int cityId;[m
[32m+[m[32m    public int getId() {[m
[32m+[m[32m        return id;[m
[32m+[m[32m    }[m
[32m+[m[32m    public void setId(int id) {[m
[32m+[m[32m        this.id = id;[m
[32m+[m[32m    }[m
[32m+[m[32m    public String getCountyName() {[m
[32m+[m[32m        return countyName;[m
[32m+[m[32m    }[m
[32m+[m[32m    public void setCountyName(String countyName) {[m
[32m+[m[32m        this.countyName = countyName;[m
[32m+[m[32m    }[m
[32m+[m[32m    public String getWeatherId() {[m
[32m+[m[32m        return weatherId;[m
[32m+[m[32m    }[m
[32m+[m[32m    public void setWeatherId(String weatherId) {[m
[32m+[m[32m        this.weatherId = weatherId;[m
[32m+[m[32m    }[m
[32m+[m[32m    public int getCityId() {[m
[32m+[m[32m        return cityId;[m
[32m+[m[32m    }[m
[32m+[m[32m    public void setCityId(int cityId) {[m
[32m+[m[32m        this.cityId = cityId;[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[1mdiff --git a/app/src/main/java/android/coolweather/com/coolweather/db/Province.java b/app/src/main/java/android/coolweather/com/coolweather/db/Province.java[m
[1mnew file mode 100644[m
[1mindex 0000000..0bf136d[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/java/android/coolweather/com/coolweather/db/Province.java[m
[36m@@ -0,0 +1,31 @@[m
[32m+[m[32mpackage android.coolweather.com.coolweather.db;[m
[32m+[m
[32m+[m[32mimport org.litepal.crud.DataSupport;[m
[32m+[m
[32m+[m[32m/**[m
[32m+[m[32m * Created by Trump on 2019/02/10.[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32mpublic class Province extends DataSupport {[m
[32m+[m[32m    private int id;[m
[32m+[m[32m    private String provinceName;[m
[32m+[m[32m    private int provinceCode;[m
[32m+[m[32m    public int getId() {[m
[32m+[m[32m        return id;[m
[32m+[m[32m    }[m
[32m+[m[32m    public void setId(int id) {[m
[32m+[m[32m        this.id = id;[m
[32m+[m[32m    }[m
[32m+[m[32m    public String getProvinceName() {[m
[32m+[m[32m        return provinceName;[m
[32m+[m[32m    }[m
[32m+[m[32m    public void setProvinceName(String provinceName) {[m
[32m+[m[32m        this.provinceName = provinceName;[m
[32m+[m[32m    }[m
[32m+[m[32m    public int getProvinceCode() {[m
[32m+[m[32m        return provinceCode;[m
[32m+[m[32m    }[m
[32m+[m[32m    public void setProvinceCode(int provinceCode) {[m
[32m+[m[32m        this.provinceCode = provinceCode;[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/java/android/coolweather/com/coolweather/gson/AQI.java b/app/src/main/java/android/coolweather/com/coolweather/gson/AQI.java[m
[1mnew file mode 100644[m
[1mindex 0000000..43ac058[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/java/android/coolweather/com/coolweather/gson/AQI.java[m
[36m@@ -0,0 +1,13 @@[m
[32m+[m[32mpackage android.coolweather.com.coolweather.gson;[m
[32m+[m
[32m+[m[32m/**[m
[32m+[m[32m * Created by Trump on 2019/02/10.[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32mpublic class AQI {[m
[32m+[m[32m    public AQICity city;[m
[32m+[m[32m    public class AQICity {[m
[32m+[m[32m        public String aqi;[m
[32m+[m[32m        public String pm25;[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[1mdiff --git a/app/src/main/java/android/coolweather/com/coolweather/gson/Basic.java b/app/src/main/java/android/coolweather/com/coolweather/gson/Basic.java[m
[1mnew file mode 100644[m
[1mindex 0000000..1f6eb1c[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/java/android/coolweather/com/coolweather/gson/Basic.java[m
[36m@@ -0,0 +1,19 @@[m
[32m+[m[32mpackage android.coolweather.com.coolweather.gson;[m
[32m+[m
[32m+[m[32mimport com.google.gson.annotations.SerializedName;[m
[32m+[m
[32m+[m[32m/**[m
[32m+[m[32m * Created by Trump on 2019/02/10.[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32mpublic class Basic {[m
[32m+[m[32m    @SerializedName("city")[m
[32m+[m[32m    public String cityName;[m
[32m+[m[32m    @SerializedName("id")[m
[32m+[m[32m    public String weatherId;[m
[32m+[m[32m    public Update update;[m
[32m+[m[32m    public class Update {[m
[32m+[m[32m        @SerializedName("loc")[m
[32m+[m[32m        public String updateTime;[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[1mdiff --git a/app/src/main/java/android/coolweather/com/coolweather/gson/Forecast.java b/app/src/main/java/android/coolweather/com/coolweather/gson/Forecast.java[m
[1mnew file mode 100644[m
[1mindex 0000000..344ed85[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/java/android/coolweather/com/coolweather/gson/Forecast.java[m
[36m@@ -0,0 +1,23 @@[m
[32m+[m[32mpackage android.coolweather.com.coolweather.gson;[m
[32m+[m
[32m+[m[32mimport com.google.gson.annotations.SerializedName;[m
[32m+[m
[32m+[m[32m/**[m
[32m+[m[32m * Created by Trump on 2019/02/10.[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32mpublic class Forecast {[m
[32m+[m[32m    public String date;[m
[32m+[m[32m    @SerializedName("tmp")[m
[32m+[m[32m    public Temperature temperature;[m
[32m+[m[32m    @SerializedName("cond")[m
[32m+[m[32m    public More more;[m
[32m+[m[32m    public class Temperature {[m
[32m+[m[32m        public String max;[m
[32m+[m[32m        public String min;[m
[32m+[m[32m    }[m
[32m+[m[32m    public class More {[m
[32m+[m[32m        @SerializedName("txt_d")[m
[32m+[m[32m        public String info;[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[1mdiff --git a/app/src/main/java/android/coolweather/com/coolweather/gson/Now.java b/app/src/main/java/android/coolweather/com/coolweather/gson/Now.java[m
[1mnew file mode 100644[m
[1mindex 0000000..e10291d[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/java/android/coolweather/com/coolweather/gson/Now.java[m
[36m@@ -0,0 +1,18 @@[m
[32m+[m[32mpackage android.coolweather.com.coolweather.gson;[m
[32m+[m
[32m+[m[32mimport com.google.gson.annotations.SerializedName;[m
[32m+[m
[32m+[m[32m/**[m
[32m+[m[32m * Created by Trump on 2019/02/10.[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32mpublic class Now {[m
[32m+[m[32m    @SerializedName("tmp")[m
[32m+[m[32m    public String temperature;[m
[32m+[m[32m    @SerializedName("cond")[m
[32m+[m[32m    public More more;[m
[32m+[m[32m    public class More {[m
[32m+[m[32m        @SerializedName("txt")[m
[32m+[m[32m        public String info;[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[1mdiff --git a/app/src/main/java/android/coolweather/com/coolweather/gson/Suggestion.java b/app/src/main/java/android/coolweather/com/coolweather/gson/Suggestion.java[m
[1mnew file mode 100644[m
[1mindex 0000000..1186708[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/java/android/coolweather/com/coolweather/gson/Suggestion.java[m
[36m@@ -0,0 +1,26 @@[m
[32m+[m[32mpackage android.coolweather.com.coolweather.gson;[m
[32m+[m
[32m+[m[32mimport com.google.gson.annotations.SerializedName;[m
[32m+[m
[32m+[m[32m/**[m
[32m+[m[32m * Created by Trump on 2019/02/10.[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32mpublic class Suggestion {@SerializedName("comf")[m
[32m+[m[32mpublic Comfort comfort;[m
[32m+[m[32m    @SerializedName("cw")[m
[32m+[m[32m    public CarWash carWash;[m
[32m+[m[32m    public Sport sport;[m
[32m+[m[32m    public class Comfort {[m
[32m+[m[32m        @SerializedName("txt")[m
[32m+[m[32m        public String info;[m
[32m+[m[32m    }[m
[32m+[m[32m    public class CarWash {[m
[32m+[m[32m        @SerializedName("txt")[m
[32m+[m[32m        public String info;[m
[32m+[m[32m    }[m
[32m+[m[32m    public class Sport {[m
[32m+[m[32m        @SerializedName("txt")[m
[32m+[m[32m        public String info;[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/java/android/coolweather/com/coolweather/gson/Weather.java b/app/src/main/java/android/coolweather/com/coolweather/gson/Weather.java[m
[1mnew file mode 100644[m
[1mindex 0000000..369bcf4[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/java/android/coolweather/com/coolweather/gson/Weather.java[m
[36m@@ -0,0 +1,19 @@[m
[32m+[m[32mpackage android.coolweather.com.coolweather.gson;[m
[32m+[m
[32m+[m[32mimport com.google.gson.annotations.SerializedName;[m
[32m+[m
[32m+[m[32mimport java.util.List;[m
[32m+[m
[32m+[m[32m/**[m
[32m+[m[32m * Created by Trump on 2019/02/10.[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32mpublic class Weather {[m
[32m+[m[32m    public String status;[m
[32m+[m[32m    public Basic basic;[m
[32m+[m[32m    public AQI aqi;[m
[32m+[m[32m    public Now now;[m
[32m+[m[32m    public Suggestion suggestion;[m
[32m+[m[32m    @SerializedName("daily_forecast")[m
[32m+[m[32m    public List<Forecast> forecastList;[m
[32m+[m[32m}[m
[1mdiff --git a/app/src/main/java/android/coolweather/com/coolweather/services/AutoUpdateService.java b/app/src/main/java/android/coolweather/com/coolweather/services/AutoUpdateService.java[m
[1mnew file mode 100644[m
[1mindex 0000000..7d2e01f[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/java/android/coolweather/com/coolweather/services/AutoUpdateService.java[m
[36m@@ -0,0 +1,94 @@[m
[32m+[m[32mpackage android.coolweather.com.coolweather;[m
[32m+[m
[32m+[m[32mimport android.app.AlarmManager;[m
[32m+[m[32mimport android.app.PendingIntent;[m
[32m+[m[32mimport android.app.Service;[m
[32m+[m[32mimport android.content.Intent;[m
[32m+[m[32mimport android.content.SharedPreferences;[m
[32m+[m[32mimport android.coolweather.com.coolweather.gson.Weather;[m
[32m+[m[32mimport android.coolweather.com.coolweather.util.HttpUtil;[m
[32m+[m[32mimport android.coolweather.com.coolweather.util.Utility;[m
[32m+[m[32mimport android.os.IBinder;[m
[32m+[m[32mimport android.os.SystemClock;[m
[32m+[m[32mimport android.preference.PreferenceManager;[m
[32m+[m[32mimport android.telecom.Call;[m
[32m+[m
[32m+[m[32mimport java.io.IOException;[m
[32m+[m
[32m+[m[32mimport javax.security.auth.callback.Callback;[m
[32m+[m
[32m+[m[32mimport okhttp3.Response;[m
[32m+[m
[32m+[m[32mpublic class AutoUpdateService extends Service {[m
[32m+[m[32m    @Override[m
[32m+[m[32m    public IBinder onBind(Intent intent) {[m
[32m+[m[32m        return null;[m
[32m+[m[32m    }[m
[32m+[m[32m    @Override[m
[32m+[m[32m    public int onStartCommand(Intent intent, int flags, int startId) {[m
[32m+[m[32m        updateWeather();[m
[32m+[m[32m        updateBingPic();[m
[32m+[m[32m        AlarmManager manager = (AlarmManager) getSystemService(ALARM_SERVICE);[m
[32m+[m[32m        int anHour = 8 * 60 * 60 * 1000; // 这是 8 小时的毫秒数[m
[32m+[m[32m        long triggerAtTime = SystemClock.elapsedRealtime() + anHour;[m
[32m+[m[32m        Intent i = new Intent(this, AutoUpdateService.class);[m
[32m+[m[32m        PendingIntent pi = PendingIntent.getService(this, 0, i, 0);[m
[32m+[m[32m        manager.cancel(pi);[m
[32m+[m[32m        manager.set(AlarmManager.ELAPSED_REALTIME_WAKEUP, triggerAtTime, pi);[m
[32m+[m[32m        return super.onStartCommand(intent, flags, startId);[m
[32m+[m[32m    }[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 更新天气信息[m
[32m+[m[32m     */[m
[32m+[m[32m    private void updateWeather(){[m
[32m+[m[32m        SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(this);[m
[32m+[m[32m        String weatherString = prefs.getString("weather", null);[m
[32m+[m[32m        if (weatherString != null) {[m
[32m+[m[32m            // 有缓存时直接解析天气数据[m
[32m+[m[32m            Weather weather = Utility.handleWeatherResponse(weatherString);[m
[32m+[m[32m            String weatherId = weather.basic.weatherId;[m
[32m+[m
[32m+[m[32m            String weatherUrl = "http://guolin.tech/api/weather?cityid=" + weatherId + "&key=bc0418b57b2d4918819d3974ac1285d9";[m
[32m+[m[32m            HttpUtil.sendOkHttpRequest(weatherUrl, new okhttp3.Callback() {[m
[32m+[m[32m                @Override[m
[32m+[m[32m                public void onFailure(okhttp3.Call call, IOException e) {[m
[32m+[m[32m                    e.printStackTrace();[m
[32m+[m[32m                }[m
[32m+[m
[32m+[m[32m                @Override[m
[32m+[m[32m                public void onResponse(okhttp3.Call call, Response response) throws IOException {[m
[32m+[m[32m                    String responseText = response.body().string();[m
[32m+[m[32m                    Weather weather = Utility.handleWeatherResponse(responseText);[m
[32m+[m[32m                    if (weather != null && "ok".equals(weather.status)) {[m
[32m+[m[32m                        SharedPreferences.Editor editor = PreferenceManager.[m
[32m+[m[32m                                getDefaultSharedPreferences(AutoUpdateService.this).[m
[32m+[m[32m                                edit();[m
[32m+[m[32m                        editor.putString("weather", responseText);[m
[32m+[m[32m                        editor.apply();[m
[32m+[m[32m                    }[m
[32m+[m[32m                }[m
[32m+[m[32m            });[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 更新必应每日一图[m
[32m+[m[32m     */[m
[32m+[m[32m    private void updateBingPic() {[m
[32m+[m[32m        String requestBingPic = "http://guolin.tech/api/bing_pic";[m
[32m+[m
[32m+[m[32m        HttpUtil.sendOkHttpRequest(requestBingPic, new okhttp3.Callback() {[m
[32m+[m[32m            @Override[m
[32m+[m[32m            public void onFailure(okhttp3.Call call, IOException e) {[m
[32m+[m[32m                e.printStackTrace();[m
[32m+[m[32m            }[m
[32m+[m
[32m+[m[32m            @Override[m
[32m+[m[32m            public void onResponse(okhttp3.Call call, Response response) throws IOException {[m
[32m+[m[32m                String bingPic = response.body().string();[m
[32m+[m[32m                SharedPreferences.Editor editor = PreferenceManager.getDefaultSharedPreferences(AutoUpdateService.this).edit();[m
[32m+[m[32m                editor.putString("bing_pic", bingPic);[m
[32m+[m[32m                editor.apply();[m
[32m+[m[32m            }[m
[32m+[m[32m        });[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[1mdiff --git a/app/src/main/java/android/coolweather/com/coolweather/util/HttpUtil.java b/app/src/main/java/android/coolweather/com/coolweather/util/HttpUtil.java[m
[1mnew file mode 100644[m
[1mindex 0000000..baa0558[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/java/android/coolweather/com/coolweather/util/HttpUtil.java[m
[36m@@ -0,0 +1,16 @@[m
[32m+[m[32mpackage android.coolweather.com.coolweather.util;[m
[32m+[m
[32m+[m[32mimport okhttp3.OkHttpClient;[m
[32m+[m[32mimport okhttp3.Request;[m
[32m+[m
[32m+[m[32m/**[m
[32m+[m[32m * Created by Trump on 2019/02/10.[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32mpublic class HttpUtil {[m
[32m+[m[32m    public static void sendOkHttpRequest(String address, okhttp3.Callback callback) {[m
[32m+[m[32m        OkHttpClient client = new OkHttpClient();[m
[32m+[m[32m        Request request = new Request.Builder().url(address).build();[m
[32m+[m[32m        client.newCall(request).enqueue(callback);[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[1mdiff --git a/app/src/main/java/android/coolweather/com/coolweather/util/Utility.java b/app/src/main/java/android/coolweather/com/coolweather/util/Utility.java[m
[1mnew file mode 100644[m
[1mindex 0000000..a19b7b1[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/java/android/coolweather/com/coolweather/util/Utility.java[m
[36m@@ -0,0 +1,95 @@[m
[32m+[m[32mpackage android.coolweather.com.coolweather.util;[m
[32m+[m
[32m+[m[32mimport android.coolweather.com.coolweather.db.City;[m
[32m+[m[32mimport android.coolweather.com.coolweather.db.County;[m
[32m+[m[32mimport android.coolweather.com.coolweather.db.Province;[m
[32m+[m[32mimport android.coolweather.com.coolweather.gson.Weather;[m
[32m+[m[32mimport android.text.TextUtils;[m
[32m+[m
[32m+[m[32mimport com.google.gson.Gson;[m
[32m+[m
[32m+[m[32mimport org.json.JSONArray;[m
[32m+[m[32mimport org.json.JSONException;[m
[32m+[m[32mimport org.json.JSONObject;[m
[32m+[m
[32m+[m[32m/**[m
[32m+[m[32m * Created by Trump on 2019/02/10.[m
[32m+[m[32m */[m
[32m+[m
[32m+[m[32mpublic class Utility {public static boolean handleProvinceResponse(String response) {[m
[32m+[m[32m    if (!TextUtils.isEmpty(response)) {[m
[32m+[m[32m        try {[m
[32m+[m[32m            JSONArray allProvinces = new JSONArray(response);[m
[32m+[m[32m            for (int i = 0; i < allProvinces.length(); i++) {[m
[32m+[m[32m                JSONObject provinceObject = allProvinces.getJSONObject(i);[m
[32m+[m[32m                Province province = new Province();[m
[32m+[m[32m                province.setProvinceName(provinceObject.getString("name"));[m
[32m+[m[32m                province.setProvinceCode(provinceObject.getInt("id"));[m
[32m+[m[32m                province.save();[m
[32m+[m[32m            }[m
[32m+[m[32m            return true;[m
[32m+[m[32m        } catch (JSONException e) {[m
[32m+[m[32m            e.printStackTrace();[m
[32m+[m[32m        }[m
[32m+[m[32m    }[m
[32m+[m[32m    return false;[m
[32m+[m[32m}[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 解析和处理服务器返回的市级数据[m
[32m+[m[32m     */[m
[32m+[m[32m    public static boolean handleCityResponse(String response, int provinceId) {[m
[32m+[m[32m        if (!TextUtils.isEmpty(response)) {[m
[32m+[m[32m            try {[m
[32m+[m[32m                JSONArray allCities = new JSONArray(response);[m
[32m+[m[32m                for (int i = 0; i < allCities.length(); i++) {[m
[32m+[m[32m                    JSONObject cityObject = allCities.getJSONObject(i);[m
[32m+[m[32m                    City city = new City();[m
[32m+[m[32m                    city.setCityName(cityObject.getString("name"));[m
[32m+[m[32m                    city.setCityCode(cityObject.getInt("id"));[m
[32m+[m[32m                    city.setProvinceId(provinceId);[m
[32m+[m[32m                    city.save();[m
[32m+[m[32m                }[m
[32m+[m[32m                return true;[m
[32m+[m[32m            } catch (JSONException e) {[m
[32m+[m[32m                e.printStackTrace();[m
[32m+[m[32m            }[m
[32m+[m[32m        }[m
[32m+[m[32m        return false;[m
[32m+[m[32m    }[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 解析和处理服务器返回的县级数据[m
[32m+[m[32m     */[m
[32m+[m[32m    public static boolean handleCountyResponse(String response, int cityId) {[m
[32m+[m[32m        if (!TextUtils.isEmpty(response)) {[m
[32m+[m[32m            try {[m
[32m+[m[32m                JSONArray allCounties = new JSONArray(response);[m
[32m+[m[32m                for (int i = 0; i < allCounties.length(); i++) {[m
[32m+[m[32m                    JSONObject countyObject = allCounties.getJSONObject(i);[m
[32m+[m[32m                    County county = new County();[m
[32m+[m[32m                    county.setCountyName(countyObject.getString("name"));[m
[32m+[m[32m                    county.setWeatherId(countyObject.getString("weather_id"));[m
[32m+[m[32m                    county.setCityId(cityId);[m
[32m+[m[32m                    county.save();[m
[32m+[m[32m                }[m
[32m+[m[32m                return true;[m
[32m+[m[32m            } catch (JSONException e) {[m
[32m+[m[32m                e.printStackTrace();[m
[32m+[m[32m            }[m
[32m+[m[32m        }[m
[32m+[m[32m        return false;[m
[32m+[m[32m    }[m
[32m+[m[32m    /**[m
[32m+[m[32m     * 将返回的 JSON 数据解析成 Weather 实体类[m
[32m+[m[32m     */[m
[32m+[m[32m    public static Weather handleWeatherResponse(String response) {[m
[32m+[m[32m        try {[m
[32m+[m[32m            JSONObject jsonObject = new JSONObject(response);[m
[32m+[m[32m            JSONArray jsonArray = jsonObject.getJSONArray("HeWeather");[m
[32m+[m[32m            String weatherContent = jsonArray.getJSONObject(0).toString();[m
[32m+[m[32m            return new Gson().fromJson(weatherContent, Weather.class);[m
[32m+[m[32m        } catch (Exception e) {[m
[32m+[m[32m            e.printStackTrace();[m
[32m+[m[32m        }[m
[32m+[m[32m        return null;[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[1mdiff --git a/app/src/main/res/drawable-v24/ic_launcher_foreground.xml b/app/src/main/res/drawable-v24/ic_launcher_foreground.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..c7bd21d[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/drawable-v24/ic_launcher_foreground.xml[m
[36m@@ -0,0 +1,34 @@[m
[32m+[m[32m<vector xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    xmlns:aapt="http://schemas.android.com/aapt"[m
[32m+[m[32m    android:width="108dp"[m
[32m+[m[32m    android:height="108dp"[m
[32m+[m[32m    android:viewportHeight="108"[m
[32m+[m[32m    android:viewportWidth="108">[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillType="evenOdd"[m
[32m+[m[32m        android:pathData="M32,64C32,64 38.39,52.99 44.13,50.95C51.37,48.37 70.14,49.57 70.14,49.57L108.26,87.69L108,109.01L75.97,107.97L32,64Z"[m
[32m+[m[32m        android:strokeColor="#00000000"[m
[32m+[m[32m        android:strokeWidth="1">[m
[32m+[m[32m        <aapt:attr name="android:fillColor">[m
[32m+[m[32m            <gradient[m
[32m+[m[32m                android:endX="78.5885"[m
[32m+[m[32m                android:endY="90.9159"[m
[32m+[m[32m                android:startX="48.7653"[m
[32m+[m[32m                android:startY="61.0927"[m
[32m+[m[32m                android:type="linear">[m
[32m+[m[32m                <item[m
[32m+[m[32m                    android:color="#44000000"[m
[32m+[m[32m                    android:offset="0.0" />[m
[32m+[m[32m                <item[m
[32m+[m[32m                    android:color="#00000000"[m
[32m+[m[32m                    android:offset="1.0" />[m
[32m+[m[32m            </gradient>[m
[32m+[m[32m        </aapt:attr>[m
[32m+[m[32m    </path>[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#FFFFFF"[m
[32m+[m[32m        android:fillType="nonZero"[m
[32m+[m[32m        android:pathData="M66.94,46.02L66.94,46.02C72.44,50.07 76,56.61 76,64L32,64C32,56.61 35.56,50.11 40.98,46.06L36.18,41.19C35.45,40.45 35.45,39.3 36.18,38.56C36.91,37.81 38.05,37.81 38.78,38.56L44.25,44.05C47.18,42.57 50.48,41.71 54,41.71C57.48,41.71 60.78,42.57 63.68,44.05L69.11,38.56C69.84,37.81 70.98,37.81 71.71,38.56C72.44,39.3 72.44,40.45 71.71,41.19L66.94,46.02ZM62.94,56.92C64.08,56.92 65,56.01 65,54.88C65,53.76 64.08,52.85 62.94,52.85C61.8,52.85 60.88,53.76 60.88,54.88C60.88,56.01 61.8,56.92 62.94,56.92ZM45.06,56.92C46.2,56.92 47.13,56.01 47.13,54.88C47.13,53.76 46.2,52.85 45.06,52.85C43.92,52.85 43,53.76 43,54.88C43,56.01 43.92,56.92 45.06,56.92Z"[m
[32m+[m[32m        android:strokeColor="#00000000"[m
[32m+[m[32m        android:strokeWidth="1" />[m
[32m+[m[32m</vector>[m
[1mdiff --git a/app/src/main/res/drawable/ic_launcher_background.xml b/app/src/main/res/drawable/ic_launcher_background.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..d5fccc5[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/drawable/ic_launcher_background.xml[m
[36m@@ -0,0 +1,170 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<vector xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    android:width="108dp"[m
[32m+[m[32m    android:height="108dp"[m
[32m+[m[32m    android:viewportHeight="108"[m
[32m+[m[32m    android:viewportWidth="108">[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#26A69A"[m
[32m+[m[32m        android:pathData="M0,0h108v108h-108z" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M9,0L9,108"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF"[m
[32m+[m[32m        android:strokeWidth="0.8" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M19,0L19,108"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF"[m
[32m+[m[32m        android:strokeWidth="0.8" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M29,0L29,108"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF"[m
[32m+[m[32m        android:strokeWidth="0.8" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M39,0L39,108"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF"[m
[32m+[m[32m        android:strokeWidth="0.8" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M49,0L49,108"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF"[m
[32m+[m[32m        android:strokeWidth="0.8" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M59,0L59,108"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF"[m
[32m+[m[32m        android:strokeWidth="0.8" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M69,0L69,108"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF"[m
[32m+[m[32m        android:strokeWidth="0.8" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M79,0L79,108"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF"[m
[32m+[m[32m        android:strokeWidth="0.8" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M89,0L89,108"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF"[m
[32m+[m[32m        android:strokeWidth="0.8" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M99,0L99,108"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF"[m
[32m+[m[32m        android:strokeWidth="0.8" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M0,9L108,9"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF"[m
[32m+[m[32m        android:strokeWidth="0.8" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M0,19L108,19"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF"[m
[32m+[m[32m        android:strokeWidth="0.8" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M0,29L108,29"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF"[m
[32m+[m[32m        android:strokeWidth="0.8" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M0,39L108,39"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF"[m
[32m+[m[32m        android:strokeWidth="0.8" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M0,49L108,49"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF"[m
[32m+[m[32m        android:strokeWidth="0.8" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M0,59L108,59"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF"[m
[32m+[m[32m        android:strokeWidth="0.8" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M0,69L108,69"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF"[m
[32m+[m[32m        android:strokeWidth="0.8" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M0,79L108,79"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF"[m
[32m+[m[32m        android:strokeWidth="0.8" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M0,89L108,89"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF"[m
[32m+[m[32m        android:strokeWidth="0.8" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M0,99L108,99"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF"[m
[32m+[m[32m        android:strokeWidth="0.8" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M19,29L89,29"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF"[m
[32m+[m[32m        android:strokeWidth="0.8" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M19,39L89,39"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF"[m
[32m+[m[32m        android:strokeWidth="0.8" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M19,49L89,49"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF"[m
[32m+[m[32m        android:strokeWidth="0.8" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M19,59L89,59"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF"[m
[32m+[m[32m        android:strokeWidth="0.8" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M19,69L89,69"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF"[m
[32m+[m[32m        android:strokeWidth="0.8" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M19,79L89,79"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF"[m
[32m+[m[32m        android:strokeWidth="0.8" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M29,19L29,89"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF"[m
[32m+[m[32m        android:strokeWidth="0.8" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M39,19L39,89"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF"[m
[32m+[m[32m        android:strokeWidth="0.8" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M49,19L49,89"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF"[m
[32m+[m[32m        android:strokeWidth="0.8" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M59,19L59,89"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF"[m
[32m+[m[32m        android:strokeWidth="0.8" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M69,19L69,89"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF"[m
[32m+[m[32m        android:strokeWidth="0.8" />[m
[32m+[m[32m    <path[m
[32m+[m[32m        android:fillColor="#00000000"[m
[32m+[m[32m        android:pathData="M79,19L79,89"[m
[32m+[m[32m        android:strokeColor="#33FFFFFF"[m
[32m+[m[32m        android:strokeWidth="0.8" />[m
[32m+[m[32m</vector>[m
[1mdiff --git a/app/src/main/res/layout/activity_main.xml b/app/src/main/res/layout/activity_main.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..385c9b0[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/layout/activity_main.xml[m
[36m@@ -0,0 +1,19 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<android.support.constraint.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    xmlns:app="http://schemas.android.com/apk/res-auto"[m
[32m+[m[32m    xmlns:tools="http://schemas.android.com/tools"[m
[32m+[m[32m    android:layout_width="match_parent"[m
[32m+[m[32m    android:layout_height="match_parent"[m
[32m+[m[32m    tools:context="android.coolweather.com.coolweather.MainActivity">[m
[32m+[m
[32m+[m[32m    <FrameLayout[m
[32m+[m[32m        xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m        android:layout_width="match_parent"[m
[32m+[m[32m        android:layout_height="match_parent">[m
[32m+[m[32m        <fragment[m
[32m+[m[32m            android:id="@+id/choose_area_fragment"[m
[32m+[m[32m            android:name="android.coolweather.com.coolweather.ChooseAreaFragment"[m
[32m+[m[32m            android:layout_width="match_parent"[m
[32m+[m[32m            android:layout_height="match_parent" />[m
[32m+[m[32m    </FrameLayout>[m
[32m+[m[32m</android.support.constraint.ConstraintLayout>[m
[1mdiff --git a/app/src/main/res/layout/activity_weather.xml b/app/src/main/res/layout/activity_weather.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..8bb5893[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/layout/activity_weather.xml[m
[36m@@ -0,0 +1,47 @@[m
[32m+[m[32m<FrameLayout[m
[32m+[m[32m    xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    android:layout_width="match_parent"[m
[32m+[m[32m    android:layout_height="match_parent"[m
[32m+[m[32m    android:background="@color/colorPrimary">[m
[32m+[m[32m    <ImageView[m
[32m+[m[32m        android:id="@+id/bing_pic_img"[m
[32m+[m[32m        android:layout_width="match_parent"[m
[32m+[m[32m        android:layout_height="match_parent"[m
[32m+[m[32m        android:scaleType="centerCrop" />[m
[32m+[m[32m    <android.support.v4.widget.DrawerLayout[m
[32m+[m[32m        android:id="@+id/drawer_layout"[m
[32m+[m[32m        android:layout_width="match_parent"[m
[32m+[m[32m        android:layout_height="match_parent">[m
[32m+[m[32m    <android.support.v4.widget.SwipeRefreshLayout[m
[32m+[m[32m        android:id="@+id/swipe_refresh"[m
[32m+[m[32m        android:layout_width="match_parent"[m
[32m+[m[32m        android:layout_height="match_parent">[m
[32m+[m[32m    <ScrollView[m
[32m+[m[32m        android:id="@+id/weather_layout"[m
[32m+[m[32m        android:layout_width="match_parent"[m
[32m+[m[32m        android:layout_height="match_parent"[m
[32m+[m[32m        android:scrollbars="none"[m
[32m+[m[32m        android:overScrollMode="never">[m
[32m+[m[32m        <LinearLayout[m
[32m+[m[32m            android:orientation="vertical"[m
[32m+[m[32m            android:layout_width="match_parent"[m
[32m+[m[32m            android:layout_height="wrap_content">[m
[32m+[m[32m            android:fitsSystemWindows="true">[m
[32m+[m[32m            <include layout="@layout/title" />[m
[32m+[m[32m            <include layout="@layout/now" />[m
[32m+[m[32m            <include layout="@layout/forecast" />[m
[32m+[m[32m            <include layout="@layout/aqi" />[m
[32m+[m[32m            <include layout="@layout/suggestion" />[m
[32m+[m[32m        </LinearLayout>[m
[32m+[m
[32m+[m[32m    </ScrollView>[m
[32m+[m[32m    </android.support.v4.widget.SwipeRefreshLayout>[m
[32m+[m[32m        <fragment[m
[32m+[m[32m            android:id="@+id/choose_area_fragment"[m
[32m+[m[32m            android:name="android.coolweather.com.coolweather.ChooseAreaFragment"[m
[32m+[m[32m            android:layout_width="match_parent"[m
[32m+[m[32m            android:layout_height="match_parent"[m
[32m+[m[32m            android:layout_gravity="start"[m
[32m+[m[32m            />[m
[32m+[m[32m    </android.support.v4.widget.DrawerLayout>[m
[32m+[m[32m</FrameLayout>[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/res/layout/aqi.xml b/app/src/main/res/layout/aqi.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..3203640[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/layout/aqi.xml[m
[36m@@ -0,0 +1,72 @@[m
[32m+[m[32m<LinearLayout[m
[32m+[m[32m    xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    android:orientation="vertical"[m
[32m+[m[32m    android:layout_width="match_parent"[m
[32m+[m[32m    android:layout_height="wrap_content"[m
[32m+[m[32m    android:layout_margin="15dp"[m
[32m+[m[32m    android:background="#8000">[m
[32m+[m[32m    <TextView[m
[32m+[m[32m        android:layout_width="wrap_content"[m
[32m+[m[32m        android:layout_height="wrap_content"[m
[32m+[m[32m        android:layout_marginLeft="15dp"[m
[32m+[m[32m        android:layout_marginTop="15dp"[m
[32m+[m[32m        android:text="空气质量"[m
[32m+[m[32m        android:textColor="#fff"[m
[32m+[m[32m        android:textSize="20sp"/>[m
[32m+[m[32m    <LinearLayout[m
[32m+[m[32m        android:layout_width="match_parent"[m
[32m+[m[32m        android:layout_height="wrap_content"[m
[32m+[m[32m        android:layout_margin="15dp">[m
[32m+[m[32m        <RelativeLayout[m
[32m+[m[32m            android:layout_width="0dp"[m
[32m+[m[32m            android:layout_height="match_parent"[m
[32m+[m[32m            android:layout_weight="1">[m
[32m+[m[32m            <LinearLayout[m
[32m+[m[32m                android:orientation="vertical"[m
[32m+[m[32m                android:layout_width="match_parent"[m
[32m+[m[32m                android:layout_height="wrap_content"[m
[32m+[m[32m                android:layout_centerInParent="true">[m
[32m+[m[32m                <TextView[m
[32m+[m[32m                    android:id="@+id/aqi_text"[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="center"[m
[32m+[m[32m                    android:textColor="#fff"[m
[32m+[m[32m                    android:textSize="40sp"[m
[32m+[m[32m                    />[m
[32m+[m[32m                <TextView[m
[32m+[m[32m                    android:layout_width="wrap_content"[m
[32m+[m[32m                    android:layout_height="wrap_content"[m
[32m+[m[32m                    android:layout_gravity="center"[m
[32m+[m[32m                    android:text="AQI 指数"[m
[32m+[m[32m                    android:textColor="#fff"/>[m
[32m+[m[32m            </LinearLayout>[m
[32m+[m[32m        </RelativeLayout>[m
[32m+[m[32m        <RelativeLayout[m
[32m+[m[32m            android:layout_width="0dp"[m
[32m+[m[32m            android:layout_height="match_parent"[m
[32m+[m[32m        android:layout_weight="1">[m
[32m+[m[32m        <LinearLayout[m
[32m+[m[32m            android:orientation="vertical"[m
[32m+[m[32m            android:layout_width="match_parent"[m
[32m+[m[32m            android:layout_height="wrap_content"[m
[32m+[m[32m            android:layout_centerInParent="true">[m
[32m+[m[32m            <TextView[m
[32m+[m[32m                android:id="@+id/pm25_text"[m
[32m+[m[32m                android:layout_width="wrap_content"[m
[32m+[m[32m                android:layout_height="wrap_content"[m
[32m+[m[32m                android:layout_gravity="center"[m
[32m+[m[32m                android:textColor="#fff"[m
[32m+[m[32m                android:textSize="40sp"[m
[32m+[m[32m                />[m
[32m+[m[32m            <TextView[m
[32m+[m[32m                android:layout_width="wrap_content"[m
[32m+[m[32m                android:layout_height="wrap_content"[m
[32m+[m[32m                android:layout_gravity="center"[m
[32m+[m[32m                android:text="PM2.5 指数"[m
[32m+[m[32m                android:textColor="#fff"[m
[32m+[m[32m                />[m
[32m+[m[32m        </LinearLayout>[m
[32m+[m[32m    </RelativeLayout>[m
[32m+[m[32m</LinearLayout>[m
[32m+[m[32m    </LinearLayout>[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/res/layout/choose_area.xml b/app/src/main/res/layout/choose_area.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..b5bf39e[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/layout/choose_area.xml[m
[36m@@ -0,0 +1,31 @@[m
[32m+[m[32m<LinearLayout[m
[32m+[m[32m    xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    android:orientation="vertical"[m
[32m+[m[32m    android:layout_width="match_parent"[m
[32m+[m[32m    android:layout_height="match_parent"[m
[32m+[m[32m    android:background="#fff">[m
[32m+[m[32m    <RelativeLayout[m
[32m+[m[32m        android:layout_width="match_parent"[m
[32m+[m[32m        android:layout_height="?attr/actionBarSize"[m
[32m+[m[32m        android:background="?attr/colorPrimary">[m
[32m+[m[32m        <TextView[m
[32m+[m[32m            android:id="@+id/title_text"[m
[32m+[m[32m            android:layout_width="wrap_content"[m
[32m+[m[32m            android:layout_height="wrap_content"[m
[32m+[m[32m            android:layout_centerInParent="true"[m
[32m+[m[32m            android:textColor="#fff"[m
[32m+[m[32m            android:textSize="20sp"/>[m
[32m+[m[32m        <Button[m
[32m+[m[32m        android:id="@+id/back_button"[m
[32m+[m[32m        android:layout_width="25dp"[m
[32m+[m[32m        android:layout_height="25dp"[m
[32m+[m[32m        android:layout_marginLeft="10dp"[m
[32m+[m[32m        android:layout_alignParentLeft="true"[m
[32m+[m[32m        android:layout_centerVertical="true"[m
[32m+[m[32m        android:background="@drawable/ic_launcher_background"/>[m
[32m+[m[32m    </RelativeLayout>[m
[32m+[m[32m    <ListView[m
[32m+[m[32m        android:id="@+id/list_view"[m
[32m+[m[32m        android:layout_width="match_parent"[m
[32m+[m[32m        android:layout_height="match_parent"/>[m
[32m+[m[32m</LinearLayout>[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/res/layout/forecast.xml b/app/src/main/res/layout/forecast.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..da8152f[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/layout/forecast.xml[m
[36m@@ -0,0 +1,22 @@[m
[32m+[m[32m<LinearLayout[m
[32m+[m[32m    xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    android:orientation="vertical"[m
[32m+[m[32m    android:layout_width="match_parent"[m
[32m+[m[32m    android:layout_height="wrap_content"[m
[32m+[m[32m    android:layout_margin="15dp"[m
[32m+[m[32m    android:background="#8000">[m
[32m+[m[32m    <TextView[m
[32m+[m[32m        android:layout_width="wrap_content"[m
[32m+[m[32m        android:layout_height="wrap_content"[m
[32m+[m[32m        android:layout_marginLeft="15dp"[m
[32m+[m[32m        android:layout_marginTop="15dp"[m
[32m+[m[32m        android:text="预报"[m
[32m+[m[32m        android:textColor="#fff"[m
[32m+[m[32m        android:textSize="20sp"/>[m
[32m+[m[32m    <LinearLayout[m
[32m+[m[32m        android:id="@+id/forecast_layout"[m
[32m+[m[32m        android:orientation="vertical"[m
[32m+[m[32m        android:layout_width="match_parent"[m
[32m+[m[32m        android:layout_height="wrap_content">[m
[32m+[m[32m    </LinearLayout>[m
[32m+[m[32m</LinearLayout>[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/res/layout/forecast_item.xml b/app/src/main/res/layout/forecast_item.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..04b3f64[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/layout/forecast_item.xml[m
[36m@@ -0,0 +1,36 @@[m
[32m+[m[32m<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    android:layout_width="match_parent"[m
[32m+[m[32m    android:layout_height="wrap_content"[m
[32m+[m[32m    android:layout_margin="15dp">[m
[32m+[m[32m    <TextView[m
[32m+[m[32m        android:id="@+id/date_text"[m
[32m+[m[32m        android:layout_width="0dp"[m
[32m+[m[32m        android:layout_height="wrap_content"[m
[32m+[m[32m        android:layout_gravity="center_vertical"[m
[32m+[m[32m        android:layout_weight="2"[m
[32m+[m[32m        android:textColor="#fff"/>[m
[32m+[m[32m    <TextView[m
[32m+[m[32m        android:id="@+id/info_text"[m
[32m+[m[32m        android:layout_width="0dp"[m
[32m+[m[32m        android:layout_height="wrap_content"[m
[32m+[m[32m        android:layout_gravity="center_vertical"[m
[32m+[m[32m        android:layout_weight="1"[m
[32m+[m[32m        android:gravity="center"[m
[32m+[m[32m        android:textColor="#fff"/>[m
[32m+[m[32m    <TextView[m
[32m+[m[32m        android:id="@+id/max_text"[m
[32m+[m[32m        android:layout_width="0dp"[m
[32m+[m[32m        android:layout_height="wrap_content"[m
[32m+[m[32m        android:layout_gravity="center"[m
[32m+[m[32m        android:layout_weight="1"[m
[32m+[m[32m        android:gravity="right"[m
[32m+[m[32m        android:textColor="#fff"/>[m
[32m+[m[32m    <TextView[m
[32m+[m[32m        android:id="@+id/min_text"[m
[32m+[m[32m        android:layout_width="0dp"[m
[32m+[m[32m        android:layout_height="wrap_content"[m
[32m+[m[32m        android:layout_gravity="center"[m
[32m+[m[32m        android:layout_weight="1"[m
[32m+[m[32m        android:gravity="right"[m
[32m+[m[32m        android:textColor="#fff"/>[m
[32m+[m[32m</LinearLayout>[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/res/layout/now.xml b/app/src/main/res/layout/now.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..62b426e[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/layout/now.xml[m
[36m@@ -0,0 +1,21 @@[m
[32m+[m[32m<LinearLayout[m
[32m+[m[32m    xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    android:orientation="vertical"[m
[32m+[m[32m    android:layout_width="match_parent"[m
[32m+[m[32m    android:layout_height="wrap_content"[m
[32m+[m[32m    android:layout_margin="15dp">[m
[32m+[m[32m<TextView[m
[32m+[m[32mandroid:id="@+id/degree_text"[m
[32m+[m[32mandroid:layout_width="wrap_content"[m
[32m+[m[32mandroid:layout_height="wrap_content"[m
[32m+[m[32mandroid:layout_gravity="end"[m
[32m+[m[32mandroid:textColor="#fff"[m
[32m+[m[32mandroid:textSize="60sp" />[m
[32m+[m[32m<TextView[m
[32m+[m[32mandroid:id="@+id/weather_info_text"[m
[32m+[m[32mandroid:layout_width="wrap_content"[m
[32m+[m[32mandroid:layout_height="wrap_content"[m
[32m+[m[32mandroid:layout_gravity="end"[m
[32m+[m[32mandroid:textColor="#fff"[m
[32m+[m[32mandroid:textSize="20sp" />[m
[32m+[m[32m    </LinearLayout>[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/res/layout/suggestion.xml b/app/src/main/res/layout/suggestion.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..65b2634[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/layout/suggestion.xml[m
[36m@@ -0,0 +1,34 @@[m
[32m+[m[32m<LinearLayout[m
[32m+[m[32m    xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    android:orientation="vertical"[m
[32m+[m[32m    android:layout_width="match_parent"[m
[32m+[m[32m    android:layout_height="wrap_content"[m
[32m+[m[32m    android:layout_margin="15dp"[m
[32m+[m[32m    android:background="#8000">[m
[32m+[m[32m    <TextView[m
[32m+[m[32m        android:layout_width="wrap_content"[m
[32m+[m[32m        android:layout_height="wrap_content"[m
[32m+[m[32m        android:layout_marginLeft="15dp"[m
[32m+[m[32m        android:layout_marginTop="15dp"[m
[32m+[m[32m        android:text="生活建议"[m
[32m+[m[32m    android:textColor="#fff"[m
[32m+[m[32m    android:textSize="20sp"/>[m
[32m+[m[32m    <TextView[m
[32m+[m[32m        android:id="@+id/comfort_text"[m
[32m+[m[32m        android:layout_width="wrap_content"[m
[32m+[m[32m        android:layout_height="wrap_content"[m
[32m+[m[32m        android:layout_margin="15dp"[m
[32m+[m[32m        android:textColor="#fff" />[m
[32m+[m[32m    <TextView[m
[32m+[m[32m        android:id="@+id/car_wash_text"[m
[32m+[m[32m        android:layout_width="wrap_content"[m
[32m+[m[32m        android:layout_height="wrap_content"[m
[32m+[m[32m        android:layout_margin="15dp"[m
[32m+[m[32m        android:textColor="#fff" />[m
[32m+[m[32m    <TextView[m
[32m+[m[32m        android:id="@+id/sport_text"[m
[32m+[m[32m        android:layout_width="wrap_content"[m
[32m+[m[32m        android:layout_height="wrap_content"[m
[32m+[m[32m        android:layout_margin="15dp"[m
[32m+[m[32m        android:textColor="#fff" />[m
[32m+[m[32m</LinearLayout>[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/res/layout/title.xml b/app/src/main/res/layout/title.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..0b6c278[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/layout/title.xml[m
[36m@@ -0,0 +1,29 @@[m
[32m+[m[32m<RelativeLayout[m
[32m+[m[32m    xmlns:android="http://schemas.android.com/apk/res/android"[m
[32m+[m[32m    android:layout_width="match_parent"[m
[32m+[m[32m    android:layout_height="?attr/actionBarSize">[m
[32m+[m[32m<TextView[m
[32m+[m[32m    android:id="@+id/title_city"[m
[32m+[m[32m    android:layout_width="wrap_content"[m
[32m+[m[32m    android:layout_height="wrap_content"[m
[32m+[m[32m    android:layout_centerInParent="true"[m
[32m+[m[32m    android:textColor="#fff"[m
[32m+[m[32m    android:textSize="20sp" />[m
[32m+[m[32m<TextView[m
[32m+[m[32mandroid:id="@+id/title_update_time"[m
[32m+[m[32mandroid:layout_width="wrap_content"[m
[32m+[m[32mandroid:layout_height="wrap_content"[m
[32m+[m[32mandroid:layout_marginRight="10dp"[m
[32m+[m[32mandroid:layout_alignParentRight="true"[m
[32m+[m[32mandroid:layout_centerVertical="true"[m
[32m+[m[32mandroid:textColor="#fff"[m
[32m+[m[32mandroid:textSize="16sp"/>[m
[32m+[m[32m    <Button[m
[32m+[m[32m        android:id="@+id/nav_button"[m
[32m+[m[32m        android:layout_width="30dp"[m
[32m+[m[32m        android:layout_height="30dp"[m
[32m+[m[32m        android:layout_marginLeft="10dp"[m
[32m+[m[32m        android:layout_alignParentLeft="true"[m
[32m+[m[32m        android:layout_centerVertical="true"[m
[32m+[m[32m        android:background="@drawable/ic_launcher_background" />[m
[32m+[m[32m    </RelativeLayout>[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/res/mipmap-anydpi-v26/ic_launcher.xml b/app/src/main/res/mipmap-anydpi-v26/ic_launcher.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..eca70cf[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/mipmap-anydpi-v26/ic_launcher.xml[m
[36m@@ -0,0 +1,5 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<adaptive-icon xmlns:android="http://schemas.android.com/apk/res/android">[m
[32m+[m[32m    <background android:drawable="@drawable/ic_launcher_background" />[m
[32m+[m[32m    <foreground android:drawable="@drawable/ic_launcher_foreground" />[m
[32m+[m[32m</adaptive-icon>[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/res/mipmap-anydpi-v26/ic_launcher_round.xml b/app/src/main/res/mipmap-anydpi-v26/ic_launcher_round.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..eca70cf[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/mipmap-anydpi-v26/ic_launcher_round.xml[m
[36m@@ -0,0 +1,5 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<adaptive-icon xmlns:android="http://schemas.android.com/apk/res/android">[m
[32m+[m[32m    <background android:drawable="@drawable/ic_launcher_background" />[m
[32m+[m[32m    <foreground android:drawable="@drawable/ic_launcher_foreground" />[m
[32m+[m[32m</adaptive-icon>[m
\ No newline at end of file[m
[1mdiff --git a/app/src/main/res/mipmap-hdpi/ic_launcher.png b/app/src/main/res/mipmap-hdpi/ic_launcher.png[m
[1mnew file mode 100644[m
[1mindex 0000000..a2f5908[m
Binary files /dev/null and b/app/src/main/res/mipmap-hdpi/ic_launcher.png differ
[1mdiff --git a/app/src/main/res/mipmap-hdpi/ic_launcher_round.png b/app/src/main/res/mipmap-hdpi/ic_launcher_round.png[m
[1mnew file mode 100644[m
[1mindex 0000000..1b52399[m
Binary files /dev/null and b/app/src/main/res/mipmap-hdpi/ic_launcher_round.png differ
[1mdiff --git a/app/src/main/res/mipmap-mdpi/ic_launcher.png b/app/src/main/res/mipmap-mdpi/ic_launcher.png[m
[1mnew file mode 100644[m
[1mindex 0000000..ff10afd[m
Binary files /dev/null and b/app/src/main/res/mipmap-mdpi/ic_launcher.png differ
[1mdiff --git a/app/src/main/res/mipmap-mdpi/ic_launcher_round.png b/app/src/main/res/mipmap-mdpi/ic_launcher_round.png[m
[1mnew file mode 100644[m
[1mindex 0000000..115a4c7[m
Binary files /dev/null and b/app/src/main/res/mipmap-mdpi/ic_launcher_round.png differ
[1mdiff --git a/app/src/main/res/mipmap-xhdpi/ic_launcher.png b/app/src/main/res/mipmap-xhdpi/ic_launcher.png[m
[1mnew file mode 100644[m
[1mindex 0000000..dcd3cd8[m
Binary files /dev/null and b/app/src/main/res/mipmap-xhdpi/ic_launcher.png differ
[1mdiff --git a/app/src/main/res/mipmap-xhdpi/ic_launcher_round.png b/app/src/main/res/mipmap-xhdpi/ic_launcher_round.png[m
[1mnew file mode 100644[m
[1mindex 0000000..459ca60[m
Binary files /dev/null and b/app/src/main/res/mipmap-xhdpi/ic_launcher_round.png differ
[1mdiff --git a/app/src/main/res/mipmap-xxhdpi/ic_launcher.png b/app/src/main/res/mipmap-xxhdpi/ic_launcher.png[m
[1mnew file mode 100644[m
[1mindex 0000000..8ca12fe[m
Binary files /dev/null and b/app/src/main/res/mipmap-xxhdpi/ic_launcher.png differ
[1mdiff --git a/app/src/main/res/mipmap-xxhdpi/ic_launcher_round.png b/app/src/main/res/mipmap-xxhdpi/ic_launcher_round.png[m
[1mnew file mode 100644[m
[1mindex 0000000..8e19b41[m
Binary files /dev/null and b/app/src/main/res/mipmap-xxhdpi/ic_launcher_round.png differ
[1mdiff --git a/app/src/main/res/mipmap-xxxhdpi/ic_launcher.png b/app/src/main/res/mipmap-xxxhdpi/ic_launcher.png[m
[1mnew file mode 100644[m
[1mindex 0000000..b824ebd[m
Binary files /dev/null and b/app/src/main/res/mipmap-xxxhdpi/ic_launcher.png differ
[1mdiff --git a/app/src/main/res/mipmap-xxxhdpi/ic_launcher_round.png b/app/src/main/res/mipmap-xxxhdpi/ic_launcher_round.png[m
[1mnew file mode 100644[m
[1mindex 0000000..4c19a13[m
Binary files /dev/null and b/app/src/main/res/mipmap-xxxhdpi/ic_launcher_round.png differ
[1mdiff --git a/app/src/main/res/values/colors.xml b/app/src/main/res/values/colors.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..3ab3e9c[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/values/colors.xml[m
[36m@@ -0,0 +1,6 @@[m
[32m+[m[32m<?xml version="1.0" encoding="utf-8"?>[m
[32m+[m[32m<resources>[m
[32m+[m[32m    <color name="colorPrimary">#3F51B5</color>[m
[32m+[m[32m    <color name="colorPrimaryDark">#303F9F</color>[m
[32m+[m[32m    <color name="colorAccent">#FF4081</color>[m
[32m+[m[32m</resources>[m
[1mdiff --git a/app/src/main/res/values/strings.xml b/app/src/main/res/values/strings.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..b5ddc30[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/values/strings.xml[m
[36m@@ -0,0 +1,3 @@[m
[32m+[m[32m<resources>[m
[32m+[m[32m    <string name="app_name">CoolWeather</string>[m
[32m+[m[32m</resources>[m
[1mdiff --git a/app/src/main/res/values/styles.xml b/app/src/main/res/values/styles.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..0eb88fe[m
[1m--- /dev/null[m
[1m+++ b/app/src/main/res/values/styles.xml[m
[36m@@ -0,0 +1,11 @@[m
[32m+[m[32m<resources>[m
[32m+[m
[32m+[m[32m    <!-- Base application theme. -->[m
[32m+[m[32m    <style name="AppTheme" parent="Theme.AppCompat.Light.NoActionBar">[m
[32m+[m[32m        <!-- Customize your theme here. -->[m
[32m+[m[32m        <item name="colorPrimary">@color/colorPrimary</item>[m
[32m+[m[32m        <item name="colorPrimaryDark">@color/colorPrimaryDark</item>[m
[32m+[m[32m        <item name="colorAccent">@color/colorAccent</item>[m
[32m+[m[32m    </style>[m
[32m+[m
[32m+[m[32m</resources>[m
[1mdiff --git a/app/src/qihoo/res/values/strings.xml b/app/src/qihoo/res/values/strings.xml[m
[1mnew file mode 100644[m
[1mindex 0000000..d6bdf72[m
[1m--- /dev/null[m
[1m+++ b/app/src/qihoo/res/values/strings.xml[m
[36m@@ -0,0 +1,3 @@[m
[32m+[m[32m<resources>[m
[32m+[m[32m    <string name="app_name">酷欧天气360</string>[m
[32m+[m[32m</resources>[m
[1mdiff --git a/app/src/test/java/android/coolweather/com/coolweather/ExampleUnitTest.java b/app/src/test/java/android/coolweather/com/coolweather/ExampleUnitTest.java[m
[1mnew file mode 100644[m
[1mindex 0000000..0689365[m
[1m--- /dev/null[m
[1m+++ b/app/src/test/java/android/coolweather/com/coolweather/ExampleUnitTest.java[m
[36m@@ -0,0 +1,17 @@[m
[32m+[m[32mpackage android.coolweather.com.coolweather;[m
[32m+[m
[32m+[m[32mimport org.junit.Test;[m
[32m+[m
[32m+[m[32mimport static org.junit.Assert.*;[m
[32m+[m
[32m+[m[32m/**[m
[32m+[m[32m * Example local unit test, which will execute on the development machine (host).[m
[32m+[m[32m *[m
[32m+[m[32m * @see <a href="http://d.android.com/tools/testing">Testing documentation</a>[m
[32m+[m[32m */[m
[32m+[m[32mpublic class ExampleUnitTest {[m
[32m+[m[32m    @Test[m
[32m+[m[32m    public void addition_isCorrect() throws Exception {[m
[32m+[m[32m        assertEquals(4, 2 + 2);[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
\ No newline at end of file[m
[1mdiff --git a/build.gradle b/build.gradle[m
[1mnew file mode 100644[m
[1mindex 0000000..e6b32bc[m
[1m--- /dev/null[m
[1m+++ b/build.gradle[m
[36m@@ -0,0 +1,27 @@[m
[32m+[m[32m// Top-level build file where you can add configuration options common to all sub-projects/modules.[m
[32m+[m
[32m+[m[32mbuildscript {[m
[32m+[m[41m    [m
[32m+[m[32m    repositories {[m
[32m+[m[32m        google()[m
[32m+[m[32m        jcenter()[m
[32m+[m[32m    }[m
[32m+[m[32m    dependencies {[m
[32m+[m[32m        classpath 'com.android.tools.build:gradle:3.0.1'[m
[32m+[m[41m        [m
[32m+[m
[32m+[m[32m        // NOTE: Do not place your application dependencies here; they belong[m
[32m+[m[32m        // in the individual module build.gradle files[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mallprojects {[m
[32m+[m[32m    repositories {[m
[32m+[m[32m        google()[m
[32m+[m[32m        jcenter()[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mtask clean(type: Delete) {[m
[32m+[m[32m    delete rootProject.buildDir[m
[32m+[m[32m}[m
[1mdiff --git a/gradle.properties b/gradle.properties[m
[1mnew file mode 100644[m
[1mindex 0000000..aac7c9b[m
[1m--- /dev/null[m
[1m+++ b/gradle.properties[m
[36m@@ -0,0 +1,17 @@[m
[32m+[m[32m# Project-wide Gradle settings.[m
[32m+[m
[32m+[m[32m# IDE (e.g. Android Studio) users:[m
[32m+[m[32m# Gradle settings configured through the IDE *will override*[m
[32m+[m[32m# any settings specified in this file.[m
[32m+[m
[32m+[m[32m# For more details on how to configure your build environment visit[m
[32m+[m[32m# http://www.gradle.org/docs/current/userguide/build_environment.html[m
[32m+[m
[32m+[m[32m# Specifies the JVM arguments used for the daemon process.[m
[32m+[m[32m# The setting is particularly useful for tweaking memory settings.[m
[32m+[m[32morg.gradle.jvmargs=-Xmx1536m[m
[32m+[m
[32m+[m[32m# When configured, Gradle will run in incubating parallel mode.[m
[32m+[m[32m# This option should only be used with decoupled projects. More details, visit[m
[32m+[m[32m# http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects[m
[32m+[m[32m# org.gradle.parallel=true[m
[1mdiff --git a/gradle/wrapper/gradle-wrapper.jar b/gradle/wrapper/gradle-wrapper.jar[m
[1mnew file mode 100644[m
[1mindex 0000000..13372ae[m
Binary files /dev/null and b/gradle/wrapper/gradle-wrapper.jar differ
[1mdiff --git a/gradle/wrapper/gradle-wrapper.properties b/gradle/wrapper/gradle-wrapper.properties[m
[1mnew file mode 100644[m
[1mindex 0000000..adaf1ce[m
[1m--- /dev/null[m
[1m+++ b/gradle/wrapper/gradle-wrapper.properties[m
[36m@@ -0,0 +1,6 @@[m
[32m+[m[32m#Sun Feb 10 12:35:33 CST 2019[m
[32m+[m[32mdistributionBase=GRADLE_USER_HOME[m
[32m+[m[32mdistributionPath=wrapper/dists[m
[32m+[m[32mzipStoreBase=GRADLE_USER_HOME[m
[32m+[m[32mzipStorePath=wrapper/dists[m
[32m+[m[32mdistributionUrl=https\://services.gradle.org/distributions/gradle-4.1-all.zip[m
[1mdiff --git a/gradlew b/gradlew[m
[1mnew file mode 100644[m
[1mindex 0000000..9d82f78[m
[1m--- /dev/null[m
[1m+++ b/gradlew[m
[36m@@ -0,0 +1,160 @@[m
[32m+[m[32m#!/usr/bin/env bash[m
[32m+[m
[32m+[m[32m##############################################################################[m
[32m+[m[32m##[m
[32m+[m[32m##  Gradle start up script for UN*X[m
[32m+[m[32m##[m
[32m+[m[32m##############################################################################[m
[32m+[m
[32m+[m[32m# Add default JVM options here. You can also use JAVA_OPTS and GRADLE_OPTS to pass JVM options to this script.[m
[32m+[m[32mDEFAULT_JVM_OPTS=""[m
[32m+[m
[32m+[m[32mAPP_NAME="Gradle"[m
[32m+[m[32mAPP_BASE_NAME=`basename "$0"`[m
[32m+[m
[32m+[m[32m# Use the maximum available, or set MAX_FD != -1 to use that value.[m
[32m+[m[32mMAX_FD="maximum"[m
[32m+[m
[32m+[m[32mwarn ( ) {[m
[32m+[m[32m    echo "$*"[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mdie ( ) {[m
[32m+[m[32m    echo[m
[32m+[m[32m    echo "$*"[m
[32m+[m[32m    echo[m
[32m+[m[32m    exit 1[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32m# OS specific support (must be 'true' or 'false').[m
[32m+[m[32mcygwin=false[m
[32m+[m[32mmsys=false[m
[32m+[m[32mdarwin=false[m
[32m+[m[32mcase "`uname`" in[m
[32m+[m[32m  CYGWIN* )[m
[32m+[m[32m    cygwin=true[m
[32m+[m[32m    ;;[m
[32m+[m[32m  Darwin* )[m
[32m+[m[32m    darwin=true[m
[32m+[m[32m    ;;[m
[32m+[m[32m  MINGW* )[m
[32m+[m[32m    msys=true[m
[32m+[m[32m    ;;[m
[32m+[m[32mesac[m
[32m+[m
[32m+[m[32m# Attempt to set APP_HOME[m
[32m+[m[32m# Resolve links: $0 may be a link[m
[32m+[m[32mPRG="$0"[m
[32m+[m[32m# Need this for relative symlinks.[m
[32m+[m[32mwhile [ -h "$PRG" ] ; do[m
[32m+[m[32m    ls=`ls -ld "$PRG"`[m
[32m+[m[32m    link=`expr "$ls" : '.*-> \(.*\)$'`[m
[32m+[m[32m    if expr "$link" : '/.*' > /dev/null; then[m
[32m+[m[32m        PRG="$link"[m
[32m+[m[32m    else[m
[32m+[m[32m        PRG=`dirname "$PRG"`"/$link"[m
[32m+[m[32m    fi[m
[32m+[m[32mdone[m
[32m+[m[32mSAVED="`pwd`"[m
[32m+[m[32mcd "`dirname \"$PRG\"`/" >/dev/null[m
[32m+[m[32mAPP_HOME="`pwd -P`"[m
[32m+[m[32mcd "$SAVED" >/dev/null[m
[32m+[m
[32m+[m[32mCLASSPATH=$APP_HOME/gradle/wrapper/gradle-wrapper.jar[m
[32m+[m
[32m+[m[32m# Determine the Java command to use to start the JVM.[m
[32m+[m[32mif [ -n "$JAVA_HOME" ] ; then[m
[32m+[m[32m    if [ -x "$JAVA_HOME/jre/sh/java" ] ; then[m
[32m+[m[32m        # IBM's JDK on AIX uses strange locations for the executables[m
[32m+[m[32m        JAVACMD="$JAVA_HOME/jre/sh/java"[m
[32m+[m[32m    else[m
[32m+[m[32m        JAVACMD="$JAVA_HOME/bin/java"[m
[32m+[m[32m    fi[m
[32m+[m[32m    if [ ! -x "$JAVACMD" ] ; then[m
[32m+[m[32m        die "ERROR: JAVA_HOME is set to an invalid directory: $JAVA_HOME[m
[32m+[m
[32m+[m[32mPlease set the JAVA_HOME variable in your environment to match the[m
[32m+[m[32mlocation of your Java installation."[m
[32m+[m[32m    fi[m
[32m+[m[32melse[m
[32m+[m[32m    JAVACMD="java"[m
[32m+[m[32m    which java >/dev/null 2>&1 || die "ERROR: JAVA_HOME is not set and no 'java' command could be found in your PATH.[m
[32m+[m
[32m+[m[32mPlease set the JAVA_HOME variable in your environment to match the[m
[32m+[m[32mlocation of your Java installation."[m
[32m+[m[32mfi[m
[32m+[m
[32m+[m[32m# Increase the maximum file descriptors if we can.[m
[32m+[m[32mif [ "$cygwin" = "false" -a "$darwin" = "false" ] ; then[m
[32m+[m[32m    MAX_FD_LIMIT=`ulimit -H -n`[m
[32m+[m[32m    if [ $? -eq 0 ] ; then[m
[32m+[m[32m        if [ "$MAX_FD" = "maximum" -o "$MAX_FD" = "max" ] ; then[m
[32m+[m[32m            MAX_FD="$MAX_FD_LIMIT"[m
[32m+[m[32m        fi[m
[32m+[m[32m        ulimit -n $MAX_FD[m
[32m+[m[32m        if [ $? -ne 0 ] ; then[m
[32m+[m[32m            warn "Could not set maximum file descriptor limit: $MAX_FD"[m
[32m+[m[32m        fi[m
[32m+[m[32m    else[m
[32m+[m[32m        warn "Could not query maximum file descriptor limit: $MAX_FD_LIMIT"[m
[32m+[m[32m    fi[m
[32m+[m[32mfi[m
[32m+[m
[32m+[m[32m# For Darwin, add options to specify how the application appears in the dock[m
[32m+[m[32mif $darwin; then[m
[32m+[m[32m    GRADLE_OPTS="$GRADLE_OPTS \"-Xdock:name=$APP_NAME\" \"-Xdock:icon=$APP_HOME/media/gradle.icns\""[m
[32m+[m[32mfi[m
[32m+[m
[32m+[m[32m# For Cygwin, switch paths to Windows format before running java[m
[32m+[m[32mif $cygwin ; then[m
[32m+[m[32m    APP_HOME=`cygpath --path --mixed "$APP_HOME"`[m
[32m+[m[32m    CLASSPATH=`cygpath --path --mixed "$CLASSPATH"`[m
[32m+[m[32m    JAVACMD=`cygpath --unix "$JAVACMD"`[m
[32m+[m
[32m+[m[32m    # We build the pattern for arguments to be converted via cygpath[m
[32m+[m[32m    ROOTDIRSRAW=`find -L / -maxdepth 1 -mindepth 1 -type d 2>/dev/null`[m
[32m+[m[32m    SEP=""[m
[32m+[m[32m    for dir in $ROOTDIRSRAW ; do[m
[32m+[m[32m        ROOTDIRS="$ROOTDIRS$SEP$dir"[m
[32m+[m[32m        SEP="|"[m
[32m+[m[32m    done[m
[32m+[m[32m    OURCYGPATTERN="(^($ROOTDIRS))"[m
[32m+[m[32m    # Add a user-defined pattern to the cygpath arguments[m
[32m+[m[32m    if [ "$GRADLE_CYGPATTERN" != "" ] ; then[m
[32m+[m[32m        OURCYGPATTERN="$OURCYGPATTERN|($GRADLE_CYGPATTERN)"[m
[32m+[m[32m    fi[m
[32m+[m[32m    # Now convert the arguments - kludge to limit ourselves to /bin/sh[m
[32m+[m[32m    i=0[m
[32m+[m[32m    for arg in "$@" ; do[m
[32m+[m[32m        CHECK=`echo "$arg"|egrep -c "$OURCYGPATTERN" -`[m
[32m+[m[32m        CHECK2=`echo "$arg"|egrep -c "^-"`                                 ### Determine if an option[m
[32m+[m
[32m+[m[32m        if [ $CHECK -ne 0 ] && [ $CHECK2 -eq 0 ] ; then                    ### Added a condition[m
[32m+[m[32m            eval `echo args$i`=`cygpath --path --ignore --mixed "$arg"`[m
[32m+[m[32m        else[m
[32m+[m[32m            eval `echo args$i`="\"$arg\""[m
[32m+[m[32m        fi[m
[32m+[m[32m        i=$((i+1))[m
[32m+[m[32m    done[m
[32m+[m[32m    case $i in[m
[32m+[m[32m        (0) set -- ;;[m
[32m+[m[32m        (1) set -- "$args0" ;;[m
[32m+[m[32m        (2) set -- "$args0" "$args1" ;;[m
[32m+[m[32m        (3) set -- "$args0" "$args1" "$args2" ;;[m
[32m+[m[32m        (4) set -- "$args0" "$args1" "$args2" "$args3" ;;[m
[32m+[m[32m        (5) set -- "$args0" "$args1" "$args2" "$args3" "$args4" ;;[m
[32m+[m[32m        (6) set -- "$args0" "$args1" "$args2" "$args3" "$args4" "$args5" ;;[m
[32m+[m[32m        (7) set -- "$args0" "$args1" "$args2" "$args3" "$args4" "$args5" "$args6" ;;[m
[32m+[m[32m        (8) set -- "$args0" "$args1" "$args2" "$args3" "$args4" "$args5" "$args6" "$args7" ;;[m
[32m+[m[32m        (9) set -- "$args0" "$args1" "$args2" "$args3" "$args4" "$args5" "$args6" "$args7" "$args8" ;;[m
[32m+[m[32m    esac[m
[32m+[m[32mfi[m
[32m+[m
[32m+[m[32m# Split up the JVM_OPTS And GRADLE_OPTS values into an array, following the shell quoting and substitution rules[m
[32m+[m[32mfunction splitJvmOpts() {[m
[32m+[m[32m    JVM_OPTS=("$@")[m
[32m+[m[32m}[m
[32m+[m[32meval splitJvmOpts $DEFAULT_JVM_OPTS $JAVA_OPTS $GRADLE_OPTS[m
[32m+[m[32mJVM_OPTS[${#JVM_OPTS[*]}]="-Dorg.gradle.appname=$APP_BASE_NAME"[m
[32m+[m
[32m+[m[32mexec "$JAVACMD" "${JVM_OPTS[@]}" -classpath "$CLASSPATH" org.gradle.wrapper.GradleWrapperMain "$@"[m
[1mdiff --git a/gradlew.bat b/gradlew.bat[m
[1mnew file mode 100644[m
[1mindex 0000000..8a0b282[m
[1m--- /dev/null[m
[1m+++ b/gradlew.bat[m
[36m@@ -0,0 +1,90 @@[m
[32m+[m[32m@if "%DEBUG%" == "" @echo off[m
[32m+[m[32m@rem ##########################################################################[m
[32m+[m[32m@rem[m
[32m+[m[32m@rem  Gradle startup script for Windows[m
[32m+[m[32m@rem[m
[32m+[m[32m@rem ##########################################################################[m
[32m+[m
[32m+[m[32m@rem Set local scope for the variables with windows NT shell[m
[32m+[m[32mif "%OS%"=="Windows_NT" setlocal[m
[32m+[m
[32m+[m[32m@rem Add default JVM options here. You can also use JAVA_OPTS and GRADLE_OPTS to pass JVM options to this script.[m
[32m+[m[32mset DEFAULT_JVM_OPTS=[m
[32m+[m
[32m+[m[32mset DIRNAME=%~dp0[m
[32m+[m[32mif "%DIRNAME%" == "" set DIRNAME=.[m
[32m+[m[32mset APP_BASE_NAME=%~n0[m
[32m+[m[32mset APP_HOME=%DIRNAME%[m
[32m+[m
[32m+[m[32m@rem Find java.exe[m
[32m+[m[32mif defined JAVA_HOME goto findJavaFromJavaHome[m
[32m+[m
[32m+[m[32mset JAVA_EXE=java.exe[m
[32m+[m[32m%JAVA_EXE% -version >NUL 2>&1[m
[32m+[m[32mif "%ERRORLEVEL%" == "0" goto init[m
[32m+[m
[32m+[m[32mecho.[m
[32m+[m[32mecho ERROR: JAVA_HOME is not set and no 'java' command could be found in your PATH.[m
[32m+[m[32mecho.[m
[32m+[m[32mecho Please set the JAVA_HOME variable in your environment to match the[m
[32m+[m[32mecho location of your Java installation.[m
[32m+[m
[32m+[m[32mgoto fail[m
[32m+[m
[32m+[m[32m:findJavaFromJavaHome[m
[32m+[m[32mset JAVA_HOME=%JAVA_HOME:"=%[m
[32m+[m[32mset JAVA_EXE=%JAVA_HOME%/bin/java.exe[m
[32m+[m
[32m+[m[32mif exist "%JAVA_EXE%" goto init[m
[32m+[m
[32m+[m[32mecho.[m
[32m+[m[32mecho ERROR: JAVA_HOME is set to an invalid directory: %JAVA_HOME%[m
[32m+[m[32mecho.[m
[32m+[m[32mecho Please set the JAVA_HOME variable in your environment to match the[m
[32m+[m[32mecho location of your Java installation.[m
[32m+[m
[32m+[m[32mgoto fail[m
[32m+[m
[32m+[m[32m:init[m
[32m+[m[32m@rem Get command-line arguments, handling Windowz variants[m
[32m+[m
[32m+[m[32mif not "%OS%" == "Windows_NT" goto win9xME_args[m
[32m+[m[32mif "%@eval[2+2]" == "4" goto 4NT_args[m
[32m+[m
[32m+[m[32m:win9xME_args[m
[32m+[m[32m@rem Slurp the command line arguments.[m
[32m+[m[32mset CMD_LINE_ARGS=[m
[32m+[m[32mset _SKIP=2[m
[32m+[m
[32m+[m[32m:win9xME_args_slurp[m
[32m+[m[32mif "x%~1" == "x" goto execute[m
[32m+[m
[32m+[m[32mset CMD_LINE_ARGS=%*[m
[32m+[m[32mgoto execute[m
[32m+[m
[32m+[m[32m:4NT_args[m
[32m+[m[32m@rem Get arguments from the 4NT Shell from JP Software[m
[32m+[m[32mset CMD_LINE_ARGS=%$[m
[32m+[m
[32m+[m[32m:execute[m
[32m+[m[32m@rem Setup the command line[m
[32m+[m
[32m+[m[32mset CLASSPATH=%APP_HOME%\gradle\wrapper\gradle-wrapper.jar[m
[32m+[m
[32m+[m[32m@rem Execute Gradle[m
[32m+[m[32m"%JAVA_EXE%" %DEFAULT_JVM_OPTS% %JAVA_OPTS% %GRADLE_OPTS% "-Dorg.gradle.appname=%APP_BASE_NAME%" -classpath "%CLASSPATH%" org.gradle.wrapper.GradleWrapperMain %CMD_LINE_ARGS%[m
[32m+[m
[32m+[m[32m:end[m
[32m+[m[32m@rem End local scope for the variables with windows NT shell[m
[32m+[m[32mif "%ERRORLEVEL%"=="0" goto mainEnd[m
[32m+[m
[32m+[m[32m:fail[m
[32m+[m[32mrem Set variable GRADLE_EXIT_CONSOLE if you need the _script_ return code instead of[m
[32m+[m[32mrem the _cmd.exe /c_ return code![m
[32m+[m[32mif  not "" == "%GRADLE_EXIT_CONSOLE%" exit 1[m
[32m+[m[32mexit /b 1[m
[32m+[m
[32m+[m[32m:mainEnd[m
[32m+[m[32mif "%OS%"=="Windows_NT" endlocal[m
[32m+[m
[32m+[m[32m:omega[m
[1mdiff --git a/settings.gradle b/settings.gradle[m
[1mnew file mode 100644[m
[1mindex 0000000..e7b4def[m
[1m--- /dev/null[m
[1m+++ b/settings.gradle[m
[36m@@ -0,0 +1 @@[m
[32m+[m[32minclude ':app'[m
